<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="SpreadWings-Sky"><meta name="copyright" content="SpreadWings-Sky"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>python学习笔记 | 俺たちに翼はない</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><link rel="shortcut icon" type="image/svg+xml" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"spreadwings-sky.github.io","root":"/","title":"俺たちに翼はない","version":"1.5.1","mode":"auto","copycode":true,"page":{"isPost":true},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="python语法 python使用缩进表达代码逻辑，推荐缩进4个空格 有子语句的代码，后面都有冒号 注释使用＃号，在pycharm中可以按ctrl + &#x2F;进行注释或取消注释 多个语句在同一行，需要使用分号分隔，但是仍然不推荐。  输入输出语句1234567891011121314151617181920212223242526# 字符串必须写在引号中，单双引号没有区别 &gt;&gt;&gt; p">
<meta property="og:type" content="article">
<meta property="og:title" content="python学习笔记">
<meta property="og:url" content="https://spreadwings-sky.github.io/2021/04/11/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="俺たちに翼はない">
<meta property="og:description" content="python语法 python使用缩进表达代码逻辑，推荐缩进4个空格 有子语句的代码，后面都有冒号 注释使用＃号，在pycharm中可以按ctrl + &#x2F;进行注释或取消注释 多个语句在同一行，需要使用分号分隔，但是仍然不推荐。  输入输出语句1234567891011121314151617181920212223242526# 字符串必须写在引号中，单双引号没有区别 &gt;&gt;&gt; p">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-04-11T10:54:19.000Z">
<meta property="article:modified_time" content="2021-04-11T12:05:24.172Z">
<meta property="article:author" content="SpreadWings-Sky">
<meta property="article:tag" content="笔记 python">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="SpreadWings-Sky"><img width="96" loading="lazy" src="/images/avatar.png" alt="SpreadWings-Sky"><span class="site-author-status" title="颓废">😀</span></a><div class="site-author-name"><a href="/about/">SpreadWings-Sky</a></div><a class="site-name" href="/about/site.html">俺たちに翼はない</a><sub class="site-subtitle"></sub><div class="site-desciption">浊以静之徐清，安以动之徐生</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">6</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=HsOz2F7Lo4jqB1Xo4lXokuVbuIC4P1ND" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/SpreadWings-Sky" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=267190570" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/23237818" title="哔哩哔哩动画" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/SpreadWingSky" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#python%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">python语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.</span> <span class="toc-text">输入输出语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number"></span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A%EF%BC%9A"><span class="toc-number">0.0.1.</span> <span class="toc-text">变量的命名约定：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E7%9A%84%E5%91%BD%E5%90%8D%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">0.0.2.</span> <span class="toc-text">推荐的命名方法：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">使用变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%EF%BC%9A%E6%95%B0%E5%AD%A6%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97"><span class="toc-number">2.1.</span> <span class="toc-text">算术运算：数学四则运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"><span class="toc-number">2.2.</span> <span class="toc-text">比较运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.</span> <span class="toc-text">逻辑运算符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97"><span class="toc-number">1.</span> <span class="toc-text">数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%9A%84%E8%A1%A8%E7%A4%BA%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">整数的表示的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.</span> <span class="toc-text">字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number"></span> <span class="toc-text">列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number"></span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number"></span> <span class="toc-text">字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%88%86%E7%B1%BB"><span class="toc-number"></span> <span class="toc-text">数据类型分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD"><span class="toc-number"></span> <span class="toc-text">判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number"></span> <span class="toc-text">while循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#break%E5%92%8Ccontinue"><span class="toc-number"></span> <span class="toc-text">break和continue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#else%E8%AF%AD%E5%8F%A5"><span class="toc-number"></span> <span class="toc-text">else语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number"></span> <span class="toc-text">for循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#range%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">range函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E8%A7%A3%E6%9E%90"><span class="toc-number"></span> <span class="toc-text">列表解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">文件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">操作步骤：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">读取文本文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5bytes%E6%96%B9%E5%BC%8F%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">以bytes方式读取文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">写文本文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#with%E8%AF%AD%E5%8F%A5"><span class="toc-number"></span> <span class="toc-text">with语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88"><span class="toc-number"></span> <span class="toc-text">移动文件指针</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number"></span> <span class="toc-text">函数的返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">函数的参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">位置参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">默认参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">导入模块的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number"></span> <span class="toc-text">模块的特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shutil%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">shutil模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#subprocess%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">subprocess模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bytes%E5%92%8Cstr%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number"></span> <span class="toc-text">bytes和str的转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E8%AF%AD%E6%B3%95%E9%A3%8E%E6%A0%BC"><span class="toc-number"></span> <span class="toc-text">python语法风格</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E6%A8%A1%E5%9D%97%E5%B8%83%E5%B1%80"><span class="toc-number"></span> <span class="toc-text">python模块布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E6%80%9D%E8%B7%AF"><span class="toc-number"></span> <span class="toc-text">编程思路</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">序列对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-number"></span> <span class="toc-text">字符编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-1"><span class="toc-number"></span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8-1"><span class="toc-number"></span> <span class="toc-text">列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84-1"><span class="toc-number"></span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-1"><span class="toc-number"></span> <span class="toc-text">字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number"></span> <span class="toc-text">集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#time%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">time模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#datetime%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">datetime模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">异常处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OS%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">OS模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pickle%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">pickle模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-1"><span class="toc-number"></span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%9A%E6%B2%A1%E6%9C%89%E5%90%8D%E5%AD%97%E7%9A%84%E5%87%BD%E6%95%B0%E3%80%82"><span class="toc-number"></span> <span class="toc-text">匿名函数：没有名字的函数。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">filter函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number"></span> <span class="toc-text">变量的作用域</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">偏函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">递归函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number"></span> <span class="toc-text">生成器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97-1"><span class="toc-number"></span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hashlib%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">hashlib模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A%E7%BC%96%E5%86%99checkmd5-py-%E7%94%9F%E6%88%90md5%E6%A0%A1%E9%AA%8C%E7%A0%81-%E9%AA%8C%E8%AF%81%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%98%AF%E5%90%A6%E4%B8%80%E8%87%B4"><span class="toc-number">0.1.</span> <span class="toc-text">练习：编写checkmd5.py(生成md5校验码,验证两个文件内容是否一致.)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tarfile%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">tarfile模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os-walk"><span class="toc-number"></span> <span class="toc-text">os.walk()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OOP%EF%BC%9A%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BC%96%E7%A8%8B"><span class="toc-number"></span> <span class="toc-text">OOP：面向对象的编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88"><span class="toc-number"></span> <span class="toc-text">组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number"></span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">特殊方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text">re模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F"><span class="toc-number"></span> <span class="toc-text">列表排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">python软件包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number"></span> <span class="toc-text">创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E8%8C%83%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">关系型数据的范式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pymysql%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number"></span> <span class="toc-text">pymysql模块的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlalchemy"><span class="toc-number"></span> <span class="toc-text">sqlalchemy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ORM%EF%BC%9A%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84"><span class="toc-number"></span> <span class="toc-text">ORM：对象关系映射</span></a></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://SpreadWings-Sky.github.io/2021/04/11/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="SpreadWings-Sky"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="俺たちに翼はない"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">python学习笔记</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-04-11 18:54:19" itemprop="dateCreated datePublished" datetime="2021-04-11T18:54:19+08:00">2021-04-11</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">19.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">93m</span></span></span><div class="post-classify"><span class="post-tag"><a class="tag" href="/tags/%E7%AC%94%E8%AE%B0-python/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">笔记 python</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h4 id="python语法"><a href="#python语法" class="headerlink" title="python语法"></a><strong>python</strong>语法</h4><ul>
<li>python使用缩进表达代码逻辑，推荐缩进4个空格</li>
<li>有子语句的代码，后面都有冒号</li>
<li>注释使用＃号，在pycharm中可以按ctrl + /进行注释或取消注释</li>
<li>多个语句在同一行，需要使用分号分隔，但是仍然不推荐。</li>
</ul>
<h4 id="输入输出语句"><a href="#输入输出语句" class="headerlink" title="输入输出语句"></a>输入输出语句</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串必须写在引号中，单双引号没有区别 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;hello world!&#x27;</span>) </span><br><span class="line"><span class="comment"># 一个print语句中，可以打印多项，123没有引号，表示数字。默认各项间用空格分隔 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;hao&#x27;</span>, <span class="number">123</span>, <span class="string">&#x27;world&#x27;</span>) </span><br><span class="line">hao <span class="number">123</span> world </span><br><span class="line"><span class="comment"># 输出时，也可以指定各项之间的分隔符 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;hao&#x27;</span>, <span class="number">123</span>, <span class="string">&#x27;world&#x27;</span>, sep=<span class="string">&#x27;_&#x27;</span>) </span><br><span class="line">hao_123_world </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;hao&#x27;</span>, <span class="number">123</span>, <span class="string">&#x27;world&#x27;</span>, sep=<span class="string">&#x27;***&#x27;</span>) </span><br><span class="line">hao***<span class="number">123</span>***world </span><br><span class="line"><span class="comment"># 字符串可以使用+拼接 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;hello&#x27;</span> + <span class="string">&#x27;world&#x27;</span>) </span><br><span class="line">helloworld </span><br><span class="line"><span class="comment"># 通过input获取键盘输入，input括号中的字符串是屏幕提示符，把用户输入的结果保存在变量num中，num是变量，使 用时不用像shell那样加$前缀。 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num = <span class="built_in">input</span>(<span class="string">&quot;number: &quot;</span>) </span><br><span class="line">number: <span class="number">100</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num </span><br><span class="line"><span class="string">&#x27;100&#x27;</span> </span><br><span class="line"><span class="comment"># 只要通过input读取，都是字符类型，字符不能和数字进行四则运算</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num + <span class="number">10</span> </span><br><span class="line">Traceback (most recent call last): </span><br><span class="line">    File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt; </span><br><span class="line">TypeError: must be <span class="built_in">str</span>, <span class="keyword">not</span> <span class="built_in">int</span> </span><br><span class="line"><span class="comment"># 可以通过int函数把num转换成整数，再和数字进行运算 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(num) + <span class="number">10</span> </span><br><span class="line"><span class="number">110</span></span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>会变化的量。常量不会变，表示字面本身含义的量不会变。100，’abc’这样的量是字面量，表示看到的字面本身含义。</p>
<p>为什么要用变量：方便，变量可以用有意义的名字。</p>
<h6 id="变量的命名约定："><a href="#变量的命名约定：" class="headerlink" title="变量的命名约定："></a>变量的命名约定：</h6><ul>
<li>首字符只能是字母或下划线</li>
<li>其他字符可以是字母或下划线或数字</li>
<li>区分大小写</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>2a = <span class="number">10</span>      <span class="comment"># Error </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_a = <span class="number">5</span>       <span class="comment"># OK, 不常用 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>abc-<span class="number">1</span> = <span class="number">10</span>   <span class="comment"># Error </span></span><br><span class="line"><span class="comment"># 以下的两个变量是不一样的 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">10</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<h6 id="推荐的命名方法："><a href="#推荐的命名方法：" class="headerlink" title="推荐的命名方法："></a>推荐的命名方法：</h6><ul>
<li>变量和函数名都用小写字母，如pythonstring</li>
<li>简短，如pystr</li>
<li>有意义</li>
<li>多个单词间用下划线分隔，如py_str</li>
<li>变量用名词，函数用谓词(动词＋名词)，如phone表示变量，用update_phone表示函数</li>
<li>类名采用驼峰形式，如MyClass</li>
</ul>
<h4 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 变量使用之前必须先赋值 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)      <span class="comment"># a没有定义，所以报名字错误 </span></span><br><span class="line">Traceback (most recent call last): </span><br><span class="line">File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt; </span><br><span class="line">NameError: name <span class="string">&#x27;a&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter = <span class="number">0</span> </span><br><span class="line"><span class="comment"># 赋值运算自右向左运算。以下代码含义是将counter的值取出并加1，然后再赋值给变量counter </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter = counter + <span class="number">1</span> </span><br><span class="line"><span class="comment"># 上面代码可以简写为 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter += <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><h5 id="算术运算：数学四则运算"><a href="#算术运算：数学四则运算" class="headerlink" title="算术运算：数学四则运算"></a>算术运算：数学四则运算</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> / <span class="number">3</span> </span><br><span class="line"><span class="number">1.6666666666666667</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> // <span class="number">3</span>     <span class="comment"># 只保留商 </span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> % <span class="number">3</span>      <span class="comment"># 只保留余数 </span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">divmod</span>(<span class="number">5</span>, <span class="number">3</span>)    <span class="comment"># divmod函数可以同时返回商和余数</span></span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b = <span class="built_in">divmod</span>(<span class="number">5</span>, <span class="number">3</span>)   <span class="comment"># 商和余数分别保存在a和b中 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a </span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b </span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> ** <span class="number">3</span>   <span class="comment"># 2的3次方 </span></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

<h5 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 比较运算的结果是True或False </span></span><br><span class="line"><span class="comment"># 字符串比较时，逐个字符进行比较，一旦出现结果就不再继续了。字母按ASCII值比较。 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;x&#x27;</span> &gt; <span class="string">&#x27;abc&#x27;</span> </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="comment"># 在python中，支持连续比较 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">20</span> &gt; <span class="number">15</span> &gt; <span class="number">10</span> </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">20</span> &gt; <span class="number">10</span> &lt; <span class="number">15</span> <span class="comment"># 相当于20 &gt; 10 and 10 &lt; 15 </span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h5 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># and两边的表达式都为真，结果才为真 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &gt; <span class="number">5</span> <span class="keyword">and</span> <span class="number">10</span> &lt; <span class="number">20</span> </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="comment"># or两边的表达式只要一边为真，结果就是真 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &gt; <span class="number">5</span> <span class="keyword">or</span> <span class="number">10</span> &lt; <span class="number">3</span> </span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="comment"># not颠倒真假 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &gt; <span class="number">5</span> </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">10</span> &gt; <span class="number">5</span> </span><br><span class="line"><span class="literal">False</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &lt; <span class="number">5</span> </span><br><span class="line"><span class="literal">False</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">10</span> &lt; <span class="number">5</span> </span><br><span class="line">rue</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h4><ul>
<li>int整数，没小数点</li>
<li>bool，布尔数，True的值是1，False值为0</li>
<li>浮点数，有小数点</li>
<li>复数。为了解决谁的平方是-1，数学家发明了复数</li>
</ul>
<h4 id="整数的表示的方式"><a href="#整数的表示的方式" class="headerlink" title="整数的表示的方式"></a>整数的表示的方式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python默认以10进制输出，没有任何前缀的数字都认为是10进制数 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">23</span> <span class="comment"># 10进制 </span></span><br><span class="line"><span class="number">23</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0o23</span> <span class="comment"># 0o开头表示8进制数 </span></span><br><span class="line"><span class="number">19</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0O23</span> </span><br><span class="line"><span class="number">19</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0x23</span> <span class="comment"># 0x开头表示16进制 </span></span><br><span class="line"><span class="number">35</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0X23</span> </span><br><span class="line"><span class="number">35</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0b11</span> <span class="comment"># 0b开头表示2进制 </span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0B11</span> </span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0x234</span> </span><br><span class="line"><span class="number">564</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> * <span class="number">16</span> * <span class="number">16</span> + <span class="number">3</span> * <span class="number">16</span> + <span class="number">4</span> </span><br><span class="line"><span class="number">564</span> </span><br></pre></td></tr></table></figure>

<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><ul>
<li>字符串是用引号引起来的一组字符，单双引号没有任何区别。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># s1和s2分别用了单又引号，它们表示了完全相同的含义 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = <span class="string">&#x27;hello world&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2 = <span class="string">&quot;hello world&quot;</span> </span><br><span class="line"><span class="comment"># 将字符串tom赋值给变量name </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = <span class="string">&#x27;tom&#x27;</span> </span><br><span class="line"><span class="comment"># s3中的name就是字面本身含义name </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s3 = <span class="string">&quot;hello name&quot;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s3 </span><br><span class="line"><span class="string">&#x27;hello name&#x27;</span> </span><br><span class="line"><span class="comment"># s4中的%s用后面变量name的值替换 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4 = <span class="string">&quot;hello %s&quot;</span> % name </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4 </span><br><span class="line"><span class="string">&#x27;hello tom&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;%s is %s years old&quot;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">22</span>) </span><br><span class="line"><span class="string">&#x27;tom is 22 years old&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>python允许使用三引号(三个连续的单引号或双引号)保存字符串的样式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>words = <span class="string">&quot;hello\nwelcome\ngreet&quot;</span> &gt;</span><br><span class="line">&gt;&gt; print(words) <span class="comment"># 打印时，\n转义为回车 </span></span><br><span class="line">hello </span><br><span class="line">welcome </span><br><span class="line">greet </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>words <span class="comment"># 内部存储时，回车保存为\n </span></span><br><span class="line"><span class="string">&#x27;hello\nwelcome\ngreet&#x27;</span> </span><br><span class="line"><span class="comment"># 三引号只是在输入时可以保留回车等输入时的样式，但是内部存储没有什么特殊 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>wordlist = <span class="string">&quot;&quot;&quot;hello </span></span><br><span class="line"><span class="string"><span class="meta">... </span>welcome </span></span><br><span class="line"><span class="string"><span class="meta">... </span>greet&quot;&quot;&quot;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(wordlist) </span><br><span class="line">hello </span><br><span class="line">welcome </span><br><span class="line">greet </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>wordlist </span><br><span class="line"><span class="string">&#x27;hello\nwelcome\ngreet&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>字符串相关操作</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str = <span class="string">&#x27;python&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(py_str) <span class="comment"># 计算字符串的长度 </span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">0</span>] <span class="comment"># 取出第一个字符，下标为0 </span></span><br><span class="line"><span class="string">&#x27;p&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">5</span>] </span><br><span class="line"><span class="string">&#x27;n&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">6</span>] <span class="comment"># 如果下标超出范围，将会出现错误</span></span><br><span class="line">Traceback (most recent call last): </span><br><span class="line">    File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt; </span><br><span class="line">IndexError: string index out of <span class="built_in">range</span> </span><br><span class="line"><span class="comment"># 下标为负数，表示从右向左取 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[-<span class="number">1</span>] </span><br><span class="line"><span class="string">&#x27;n&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[-<span class="number">6</span>] </span><br><span class="line"><span class="string">&#x27;p&#x27;</span> </span><br><span class="line"><span class="comment"># 切片，切取片段 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">2</span>:<span class="number">4</span>] <span class="comment"># 包含起始下标对应的字符，不包含结束下标对应的字符 </span></span><br><span class="line"><span class="string">&#x27;th&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">2</span>:<span class="number">6</span>] <span class="comment"># 取切片时，下标超出范围不会报错 </span></span><br><span class="line"><span class="string">&#x27;thon&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">2</span>:<span class="number">6000</span>] </span><br><span class="line"><span class="string">&#x27;thon&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">2</span>:] <span class="comment"># 结束下标不写，表示取到结尾 </span></span><br><span class="line"><span class="string">&#x27;thon&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[:<span class="number">2</span>] <span class="comment"># 起始下标不写，表示从开头取 </span></span><br><span class="line"><span class="string">&#x27;py&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">0</span>:<span class="number">2</span>] </span><br><span class="line"><span class="string">&#x27;py&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[:] <span class="comment"># 从开头取到结尾 </span></span><br><span class="line"><span class="string">&#x27;python&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[::<span class="number">2</span>] <span class="comment"># 步长值为2 </span></span><br><span class="line"><span class="string">&#x27;pto&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[<span class="number">1</span>::<span class="number">2</span>] </span><br><span class="line"><span class="string">&#x27;yhn&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>py_str[::-<span class="number">1</span>] <span class="comment"># 步长为负表示自右向左取 </span></span><br><span class="line"><span class="string">&#x27;nohtyp&#x27;</span> </span><br><span class="line"><span class="comment"># 成员关系着断 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;t&#x27;</span> <span class="keyword">in</span> py_str <span class="comment"># t在字符串中吗？ </span></span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;th&#x27;</span> <span class="keyword">in</span> py_str </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;to&#x27;</span> <span class="keyword">in</span> py_str <span class="comment"># to虽然在字符串中，但不是连续的，返回False </span></span><br><span class="line"><span class="literal">False</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;to&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> py_str <span class="comment"># to不在字符串中吗？ </span></span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="comment"># 字符串通过+实现拼接 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;hao&#x27;</span> + <span class="string">&#x27;123&#x27;</span> </span><br><span class="line"><span class="string">&#x27;hao123&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>(<span class="number">123</span>) <span class="comment"># 内建函数str可以把数字转成字符串 </span></span><br><span class="line"><span class="string">&#x27;123&#x27;</span> </span><br><span class="line">&gt;&gt; <span class="string">&#x27;hao&#x27;</span> + <span class="built_in">str</span>(<span class="number">123</span>) </span><br><span class="line"><span class="string">&#x27;hao123&#x27;</span></span><br><span class="line"><span class="comment"># 字符串重复 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;*&#x27;</span> * <span class="number">30</span></span><br><span class="line"><span class="string">&#x27;******************************&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;#&#x27;</span> * <span class="number">30</span> </span><br><span class="line"><span class="string">&#x27;##############################&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;ab&#x27;</span> * <span class="number">30</span> </span><br><span class="line"><span class="string">&#x27;abababababababababababababababababababababababababababababab&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>使用[]表示列表。列表是容器类型的，它里面可以存储各种数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>] </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(alist) </span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">0</span>] </span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[-<span class="number">1</span>] </span><br><span class="line"><span class="string">&#x27;jerry&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">30</span> <span class="keyword">in</span> alist </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">3</span>:] </span><br><span class="line">[<span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>] </span><br><span class="line"><span class="comment"># 列表支持修改内容</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">2</span>] = <span class="number">300</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist </span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>] </span><br><span class="line"><span class="comment"># 通过append方法，可以向列表追加数据 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.append(<span class="string">&#x27;bob&#x27;</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist </span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>] </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist * <span class="number">2</span> </span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>] </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist + <span class="number">100</span> <span class="comment"># 报错，列表不能和数字拼接 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist + [<span class="number">100</span>] <span class="comment"># 列表拼接</span></span><br></pre></td></tr></table></figure>

<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>元组可以认为是不可变的列表，其余完全一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(atuple) </span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple[<span class="number">0</span>] </span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple[<span class="number">2</span>:<span class="number">4</span>] </span><br><span class="line">(<span class="number">300</span>, <span class="string">&#x27;tom&#x27;</span>) </span><br><span class="line">&gt;&gt; atuple[<span class="number">0</span>] = <span class="number">100</span> <span class="comment"># 报错，不能修改</span></span><br><span class="line"><span class="comment"># 单元素元组，必须有逗号，否则不是元组。 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = (<span class="number">10</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="comment"># a不是元组，而是数字 </span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = (<span class="number">10</span>,) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b </span><br><span class="line">(<span class="number">10</span>,) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(b) </span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>字典是无序的，所以不能像字符串那样取下标和切片。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict = &#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">22</span>&#125; </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(adict) </span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;tom&#x27;</span> <span class="keyword">in</span> adict <span class="comment"># &#x27;tom&#x27;是字典的key吗？ </span></span><br><span class="line"><span class="literal">False</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> adict </span><br><span class="line"><span class="literal">True</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict[<span class="string">&#x27;name&#x27;</span>] <span class="comment"># 字典通过key取出value </span></span><br><span class="line"><span class="string">&#x27;tom&#x27;</span> </span><br><span class="line"><span class="comment"># 字典的key不能重复，赋值时，key存在则修改val，key不存在则新增 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict[<span class="string">&#x27;age&#x27;</span>] = <span class="number">25</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict </span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125; </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict[<span class="string">&#x27;email&#x27;</span>] = <span class="string">&#x27;tom@tedu.cn&#x27;</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adict </span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;email&#x27;</span>: <span class="string">&#x27;tom@tedu.cn&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h3><ul>
<li>按存储模型<ul>
<li>标量：字符串、数字</li>
<li>容器：列表、元祖、字典</li>
</ul>
</li>
<li>按更新模型<ul>
<li>可变：列表、字典</li>
<li>不可变：字符串、元组、数字</li>
</ul>
</li>
<li>按访问模型<ul>
<li>直接：数字</li>
<li>顺序：字符串、列表、元组</li>
</ul>
</li>
</ul>
<h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><ul>
<li><p>数据类型也可以作为判断条件。任何值为0的数字都表示False，非0表示True；任何非空对象都表示True，空对象是False。</p>
</li>
<li><p>条件表达式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> a &lt;= b:</span><br><span class="line"><span class="meta">... </span>  smaller = a</span><br><span class="line"><span class="meta">... </span><span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>  smaller = b</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>smaller</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="comment"># 将上面的判断改写为条件表达式（也叫三元运算符）</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = a <span class="keyword">if</span> a &lt;= b <span class="keyword">else</span> b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure></li>
<li><p>扩展if语句：多分支语句，满足某一条件就执行相应的语句块，其他条件不再判断。多分支只会执行一个分支。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:</span><br><span class="line">    语句块<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">2</span>:</span><br><span class="line">    语句块<span class="number">2</span></span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">3</span>:</span><br><span class="line">    语句块<span class="number">3</span></span><br><span class="line"><span class="meta">... </span>...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句块n</span><br></pre></td></tr></table></figure></li>
</ul>
<p>随机数模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> random</span><br><span class="line"><span class="comment"># random.choice从给定的列表中随机选一项</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>random.choice(<span class="string">&#x27;abcdef&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>random.choice(<span class="string">&#x27;abcdef&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;c&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>random.choice([<span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cccc&#x27;</span>, <span class="string">&#x27;ddd&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;bb&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>random.choice([<span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cccc&#x27;</span>, <span class="string">&#x27;ddd&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;ddd&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>random.choice([<span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cccc&#x27;</span>, <span class="string">&#x27;ddd&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;ddd&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h2><p>python中循环分为while循环和for循环，当循环次数未知时，使用while循环，循环次数已知，使用for循环。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while 循环条件:    循环体内代码组</span><br></pre></td></tr></table></figure>

<p>循环条件为真的时候，执行循环体内代码组。条件为真的情况和if判断一样。</p>
<h3 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h3><ul>
<li>break：结束循环，循环体中break后续代码不再执行</li>
<li>continue：跳过本次循环，循环体中continue后续代码不再执行</li>
</ul>
<h3 id="else语句"><a href="#else语句" class="headerlink" title="else语句"></a>else语句</h3><p>循环的else语句：当循环被break，else语句不执行，否则执行</p>
<h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><h3 id="range函数"><a href="#range函数" class="headerlink" title="range函数"></a>range函数</h3><p>用于生成整数。</p>
<ul>
<li>参数只给一个数字，表示结束数字，起始数字默认从0开始，结束数字不包含</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">10</span>)   <span class="comment"># 生成range对象</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))   <span class="comment"># 转换成列表，只用于查看range能生成的数字</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line"><span class="meta">... </span>  print(i)</span><br></pre></td></tr></table></figure>

<ul>
<li>参数给两个数字，表示起始和结束数字，结束数字不包含</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>range的第三个参数，是步长值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>, <span class="number">2</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>, <span class="number">0</span>, -<span class="number">1</span>))</span><br><span class="line">[<span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h2 id="列表解析"><a href="#列表解析" class="headerlink" title="列表解析"></a>列表解析</h2><p>便捷的快速生成列表的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">10</span>]</span><br><span class="line">[<span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">10</span> + <span class="number">2</span>]   <span class="comment"># 表达式计算结果放到列表</span></span><br><span class="line">[<span class="number">12</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">10</span> + <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]   <span class="comment"># 循环决定表达式计算几次</span></span><br><span class="line">[<span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">10</span> + i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]  <span class="comment"># 表达式可以用循环的变量</span></span><br><span class="line">[<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">10</span> + i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>]  <span class="comment"># 判断条件为真才保留计算结果</span></span><br><span class="line">[<span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">19</span>]</span><br><span class="line"><span class="comment"># 等价于以下代码：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line"><span class="meta">... </span>    nums.append(<span class="number">10</span> + i)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums</span><br><span class="line">[<span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">19</span>]</span><br></pre></td></tr></table></figure>

<p>通过列表解析生成192.168.1.0/24网段的所有IP地址：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">&#x27;192.168.1.%s&#x27;</span> % i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">255</span>)]</span><br></pre></td></tr></table></figure>

<h2 id="文件对象"><a href="#文件对象" class="headerlink" title="文件对象"></a>文件对象</h2><h3 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a>操作步骤：</h3><ol>
<li>打开</li>
<li>读写</li>
<li>关闭</li>
</ol>
<h3 id="读取文本文件"><a href="#读取文本文件" class="headerlink" title="读取文本文件"></a>读取文本文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">(nsd1903) [root@room8pc16 day02]<span class="comment"># cp /etc/passwd /tmp/</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>)   <span class="comment"># 打开文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = f.read()   <span class="comment"># 默认读取全部内容</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(data)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = f.read()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line"><span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()   <span class="comment"># 关闭文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">4</span>)   <span class="comment"># 读取4字节</span></span><br><span class="line"><span class="string">&#x27;root&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">3</span>)</span><br><span class="line"><span class="string">&#x27;:x:&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.readline()   <span class="comment"># 读取一行</span></span><br><span class="line"><span class="string">&#x27;0:0:root:/root:/bin/bash\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.readline()</span><br><span class="line"><span class="string">&#x27;bin:x:1:1:bin:/bin:/sbin/nologin\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.readlines()   <span class="comment"># 将所有行读出来，放到列表中，每行是列表的一项</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br><span class="line"><span class="comment"># 读文本文件使用最多的方式是for循环</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line"><span class="meta">... </span>  print(line, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br></pre></td></tr></table></figure>

<h3 id="以bytes方式读取文件"><a href="#以bytes方式读取文件" class="headerlink" title="以bytes方式读取文件"></a>以bytes方式读取文件</h3><p>1个16进制数，正好对应4位2进制：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0b0000 &lt;-&gt; 0x0</span><br><span class="line">0b1111 &lt;-&gt; 0xF</span><br></pre></td></tr></table></figure>

<p>读取任何文件都可以用bytes方式打开。读取文件内容时，如果是文本内容，将会以字符的形式显示，如果不能转成字符，将会直接显示16进制数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">4</span>)</span><br><span class="line"><span class="string">b&#x27;root&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/bin/ls&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">10</span>)   <span class="comment"># 读取时，python试图将内容转换成字符，但是失败了，报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/bin/ls&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">10</span>)</span><br><span class="line"><span class="string">b&#x27;\x7fELF\x02\x01\x01\x00\x00\x00&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br></pre></td></tr></table></figure>

<h3 id="写文本文件"><a href="#写文本文件" class="headerlink" title="写文本文件"></a>写文本文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)   <span class="comment"># 创建或清空文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">&#x27;hello world!\n&#x27;</span>)   <span class="comment"># \n表示换行</span></span><br><span class="line"><span class="number">13</span>    <span class="comment"># 表示共写入了13字节</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.flush()  <span class="comment"># 默认数据写到缓存，不会立即同步至磁盘，flush()立即写入磁盘</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.writelines([<span class="string">&#x27;2nd line.\n&#x27;</span>, <span class="string">&#x27;3rd line.\n&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()  <span class="comment"># 关闭文件，数据也会同步到磁盘</span></span><br></pre></td></tr></table></figure>

<h3 id="with语句"><a href="#with语句" class="headerlink" title="with语句"></a>with语句</h3><p>使用with打开文件，with语句结束后，文件自动关闭。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line"><span class="meta">... </span>    print(line, end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="移动文件指针"><a href="#移动文件指针" class="headerlink" title="移动文件指针"></a>移动文件指针</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/passwd&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.tell()   <span class="comment"># 返回文件指针位置，从文件开头到文件指针间的偏移量</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read(<span class="number">5</span>)</span><br><span class="line"><span class="string">b&#x27;hello&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.tell()</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.seek(<span class="number">0</span>, <span class="number">0</span>)   <span class="comment"># 移动指针到文件开头</span></span><br><span class="line"><span class="comment"># seek第二个参数是相对位置，0表示开头，1表示当前位置，2表示结尾；第一个参数是偏移量</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.seek(-<span class="number">6</span>, <span class="number">2</span>)   <span class="comment"># 移动指针到文件结尾前的第6个位置</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br></pre></td></tr></table></figure>

<p>练习：拷贝文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初步实现</span></span><br><span class="line">f1 = <span class="built_in">open</span>(<span class="string">&#x27;/bin/ls&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">f2 = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/ls&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">data = f1.read()</span><br><span class="line">f2.write(data)</span><br><span class="line">f1.close()</span><br><span class="line">f2.close()</span><br></pre></td></tr></table></figure>

<p>以上代码存在的问题</p>
<ul>
<li>尽量使用变量，不要直接使用’/bin/ls’这样的直接量</li>
<li>变量名应该有意义，f1和f2这样的名称没有意义</li>
<li>读取数据时，一次将全部内容读入，有可能数据量太大</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>给一段代码起个名。假如有一个功能，需要10行代码，而这个功能需要在5个地方重复使用。可以将这些功能代码封装到函数中，以后需要用到这个功能，就调用函数。</p>
<p>函数定义时，代码不会执行。调用函数时，函数内的代码才会执行。</p>
<h3 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h3><ul>
<li>函数执行的结果，可以使用return进行返回</li>
<li>如果函数没有return语句，默认返回None</li>
<li>当函数遇到return语句时，函数将会返回结果，停止执行</li>
</ul>
<h3 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h3><ul>
<li>函数需要处理的数据，一般是通过参数进行传递的</li>
<li>定义函数时，参数值不确定，用一个名称进行占位，称作形式参数、形参</li>
<li>函数调用时，将具体的数据传递给函数，这个具体的数据是实际使用的参数，称作实际参数、实参</li>
<li>形参赋值给实参时，认为是变量赋值即可</li>
<li>函数内部的参数、变量都是局部变量，只在函数内可用。</li>
</ul>
<h3 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h3><ul>
<li>在python中，位置参数保存在sys模块的argv列表中</li>
<li>位置参数都以字符形式传递</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># cat pos.py </span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(sys.argv)</span><br><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># python pos.py hao 123</span></span><br><span class="line">[<span class="string">&#x27;pos.py&#x27;</span>, <span class="string">&#x27;hao&#x27;</span>, <span class="string">&#x27;123&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><p>为函数提供了默认值的参数。</p>
<ul>
<li>调用函数时，传参，形参的值是传递的实参值</li>
<li>调用函数时，不传参，形参的值是默认值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">pstar</span>(<span class="params">n=<span class="number">30</span></span>):</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">&#x27;*&#x27;</span> * n)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pstar(<span class="number">20</span>)</span><br><span class="line">********************</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pstar(<span class="number">50</span>)</span><br><span class="line">**************************************************</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pstar()</span><br><span class="line">******************************</span><br></pre></td></tr></table></figure>

<p>函数练习1：</p>
<ul>
<li>编写一个函数，函数接受一个字符串</li>
<li>函数将字符串左边的空格删除</li>
<li>返回去除左端空格的子串</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure>

<p>函数练习2：</p>
<ul>
<li>编写一个函数，函数接受一个字符串</li>
<li>函数将字符串中的数字取出</li>
<li>返回字符串中的数字</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;a12bcd89xf2340ll&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li>一个以.py作为结尾的python程序文件就是一个模块</li>
<li>模块的命名要求<ul>
<li>首字符只能是字母或下划线</li>
<li>其他字符可以是字母、数字、下划线</li>
<li>区分大小写</li>
</ul>
</li>
<li>模块名是python程序文件名去除.py后前面的部分</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim star.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;星星模块</span></span><br><span class="line"><span class="string">该模块包含了一个全局变和一个函数</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">hi = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pstar</span>(<span class="params">n=<span class="number">30</span></span>):</span></span><br><span class="line">    <span class="string">&quot;默认打印30个星号&quot;</span></span><br><span class="line">    print(<span class="string">&#x27;*&#x27;</span> * n)</span><br><span class="line"><span class="comment"># python3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> star</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">help</span>(star)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>star.hi</span><br><span class="line"><span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>star.pstar()</span><br><span class="line">******************************</span><br></pre></td></tr></table></figure>

<h3 id="导入模块的方法"><a href="#导入模块的方法" class="headerlink" title="导入模块的方法"></a>导入模块的方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接导入</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;2019-08-02&#x27;</span></span><br><span class="line"><span class="comment"># 导入多个模块，不推荐</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys, os, datetime</span><br><span class="line"><span class="comment"># 只导入模块中的某些功能</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> random <span class="keyword">import</span> randint, choice</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>randint(<span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line"><span class="number">81</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>choice(<span class="string">&#x27;+-*/&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/&#x27;</span></span><br><span class="line"><span class="comment"># 导入模块时，为它起别名</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> getpass <span class="keyword">as</span> gp</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gp.getpass()</span><br></pre></td></tr></table></figure>

<h3 id="模块的特性"><a href="#模块的特性" class="headerlink" title="模块的特性"></a>模块的特性</h3><ul>
<li>每个模块文件都有一个特殊的变量叫__name__</li>
<li>它的值可以是__main__，也可以是模块名<ul>
<li>当模块文件直接运行时，是__main__</li>
<li>当模块间接运行（被import导入）时是模块名</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># cat foo.py </span></span><br><span class="line">print(__name__)</span><br><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># cat bar.py </span></span><br><span class="line"><span class="keyword">import</span> foo</span><br><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># python foo.py </span></span><br><span class="line">__main__</span><br><span class="line">(nsd1903) [root@room8pc16 day03]<span class="comment"># python bar.py</span></span><br><span class="line">foo</span><br></pre></td></tr></table></figure>

<p>当.py文件被直接运行时,if name == ‘main’之下的代码块将被运行;<br>当.py文件以模块形式被导入时,if name == ‘main’之下的代码块不被运行。</p>
<h2 id="shutil模块"><a href="#shutil模块" class="headerlink" title="shutil模块"></a>shutil模块</h2><p>主要实现复制、移动等操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="comment"># 拷贝文件对象的方式，了解</span></span><br><span class="line">f1 = <span class="built_in">open</span>(<span class="string">&#x27;/etc/passwd&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">f2 = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/mima&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">shutil.copyfileobj(f1, f2)</span><br><span class="line">f1.close()</span><br><span class="line">f2.close()</span><br><span class="line"><span class="comment"># 直接拷贝文件 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copyfile(<span class="string">&#x27;/etc/shadow&#x27;</span>, <span class="string">&#x27;/tmp/sd&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/tmp/sd&#x27;</span></span><br><span class="line"><span class="comment"># 将文件拷贝到目标目录，或指定目标位置及名字，常用</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copy(<span class="string">&#x27;/etc/hosts&#x27;</span>, <span class="string">&#x27;/tmp/&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/tmp/hosts&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copy(<span class="string">&#x27;/etc/hosts&#x27;</span>, <span class="string">&#x27;/tmp/zhuji.txt&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/tmp/zhuji.txt&#x27;</span></span><br><span class="line"><span class="comment"># copy2相当于是cp -p  ， 常用</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copy2(<span class="string">&#x27;/etc/hosts&#x27;</span>, <span class="string">&#x27;/tmp/zhj&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/tmp/zhj&#x27;</span></span><br><span class="line"><span class="comment"># cp -r /etc/security /tmp/anquan， 常用</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copytree(<span class="string">&#x27;/etc/security&#x27;</span>, <span class="string">&#x27;/tmp/anquan&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/tmp/anquan&#x27;</span></span><br><span class="line"><span class="comment"># mv /tmp/anquan /var/tmp/anquan</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.move(<span class="string">&#x27;/tmp/anquan&#x27;</span>, <span class="string">&#x27;/var/tmp/anquan&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;/var/tmp/anquan&#x27;</span></span><br><span class="line"><span class="comment"># chown</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.chown(<span class="string">&#x27;/tmp/mima&#x27;</span>, user=<span class="string">&#x27;bob&#x27;</span>, group=<span class="string">&#x27;bob&#x27;</span>)</span><br><span class="line"><span class="comment"># rm -rf </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.rmtree(<span class="string">&#x27;/var/tmp/anquan&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="subprocess模块"><a href="#subprocess模块" class="headerlink" title="subprocess模块"></a>subprocess模块</h2><p>用于执行系统命令。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess           <span class="comment">#调用subprocess模块</span></span><br><span class="line"><span class="comment"># 在shell环境中执行命令ls ~</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subprocess.run(<span class="string">&#x27;ls ~&#x27;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">公共</span><br><span class="line">模板</span><br><span class="line">视频</span><br><span class="line">图片</span><br><span class="line">文档</span><br><span class="line">下载</span><br><span class="line">音乐</span><br><span class="line">桌面</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = subprocess.run(<span class="string">&#x27;ls abcd&#x27;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">ls: 无法访问abcd: 没有那个文件或目录</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subprocess.run(<span class="string">&#x27;ls -ld /home/student/python&#x27;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">drwxr-xr-x <span class="number">3</span> student student <span class="number">4096</span> <span class="number">7</span>月  <span class="number">31</span> <span class="number">10</span>:01 /home/student/python</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subprocess.run(<span class="string">&#x27;id root;id student&#x27;</span>,shell=<span class="literal">True</span>)</span><br><span class="line">uid=<span class="number">0</span>(root) gid=<span class="number">0</span>(root) 组=<span class="number">0</span>(root)</span><br><span class="line">uid=<span class="number">1000</span>(student) gid=<span class="number">1000</span>(student) 组=<span class="number">1000</span>(student)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result.returncode   <span class="comment"># returncode就是$?</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="comment"># 将输出保存到stdout中，将错误保存到stderr中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = subprocess.run(<span class="string">&#x27;id root; id john&#x27;</span>, shell=<span class="literal">True</span>, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result.stdout</span><br><span class="line"><span class="string">b&#x27;uid=0(root) gid=0(root) \xe7\xbb\x84=0(root)\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result.stderr</span><br><span class="line"><span class="string">b&#x27;id: john: no such user\n&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="bytes和str的转换"><a href="#bytes和str的转换" class="headerlink" title="bytes和str的转换"></a>bytes和str的转换</h3><ul>
<li>字母a对应的10进制数是97，2进制是0b01100001</li>
<li>一个字节是8位，一个ASCII字符可以用一个字节表示出来</li>
<li>所以bytes类型的数据，一个字节正好能表示成一个ASCII字符时，就显示成字符</li>
<li>汉字使用utf8编码，一个汉字需要占3字节。一个字节表示不出来汉字，所以一个汉字就需要使用三个以\x开头的16进制数表示</li>
<li>str类型的字符串是引号括起来的部分</li>
<li>bytes类型的字符串，以b’’表示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bytes类型转成str类型</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result.stdout.decode()</span><br><span class="line"><span class="string">&#x27;uid=0(root) gid=0(root) 组=0(root)\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hi = <span class="string">&#x27;你好tom&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hi.encode()   <span class="comment"># str =&gt; bytes</span></span><br><span class="line"><span class="string">b&#x27;\xe4\xbd\xa0\xe5\xa5\xbdtom&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = hi.encode()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line"><span class="string">b&#x27;\xe4\xbd\xa0\xe5\xa5\xbdtom&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data.decode()   <span class="comment"># bytes =&gt; str</span></span><br><span class="line"><span class="string">&#x27;你好tom&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="python语法风格"><a href="#python语法风格" class="headerlink" title="python语法风格"></a>python语法风格</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 链式多重赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = b = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist = blist = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>blist[-<span class="number">1</span>] = <span class="number">30</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>blist</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">30</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">30</span>]</span><br><span class="line"><span class="comment"># 多元赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b = <span class="number">10</span>, <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c, d = <span class="string">&#x27;ab&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line"><span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line"><span class="string">&#x27;b&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e, f = [<span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m, n = (<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m</span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n</span><br><span class="line"><span class="number">200</span></span><br><span class="line"><span class="comment"># 其他语言交换变量值的方法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b = <span class="number">10</span>, <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = t</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="comment"># python交换两个变量值的方法 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b = b, a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>关键字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> keyword</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>keyword.kwlist</span><br><span class="line">[<span class="string">&#x27;False&#x27;</span>, <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;True&#x27;</span>, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;as&#x27;</span>, <span class="string">&#x27;assert&#x27;</span>, <span class="string">&#x27;break&#x27;</span>, <span class="string">&#x27;class&#x27;</span>, <span class="string">&#x27;continue&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;del&#x27;</span>, <span class="string">&#x27;elif&#x27;</span>, <span class="string">&#x27;else&#x27;</span>, <span class="string">&#x27;except&#x27;</span>, <span class="string">&#x27;finally&#x27;</span>, <span class="string">&#x27;for&#x27;</span>, <span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;global&#x27;</span>, <span class="string">&#x27;if&#x27;</span>, <span class="string">&#x27;import&#x27;</span>, <span class="string">&#x27;in&#x27;</span>, <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;lambda&#x27;</span>, <span class="string">&#x27;nonlocal&#x27;</span>, <span class="string">&#x27;not&#x27;</span>, <span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;pass&#x27;</span>, <span class="string">&#x27;raise&#x27;</span>, <span class="string">&#x27;return&#x27;</span>, <span class="string">&#x27;try&#x27;</span>, <span class="string">&#x27;while&#x27;</span>, <span class="string">&#x27;with&#x27;</span>, <span class="string">&#x27;yield&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>内建：</p>
<p>python创建的一些函数等。</p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/functions.html">https://docs.python.org/zh-cn/3/library/functions.html</a></p>
<h3 id="python模块布局"><a href="#python模块布局" class="headerlink" title="python模块布局"></a>python模块布局</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/local/bin/python     # 解释器</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;文档字符串</span></span><br><span class="line"><span class="string">这是出现在help中的部分&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> string   <span class="comment"># 模块导入</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">all_chs = string.ascii_letters + digits   <span class="comment"># 全局变量定义</span></span><br><span class="line">debug = <span class="literal">True</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span>   <span class="comment"># 类定义</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span>    <span class="comment"># 函数定义</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:     <span class="comment">#程序主体</span></span><br><span class="line">    mc = MyClass()</span><br><span class="line">    func1()</span><br></pre></td></tr></table></figure>

<h3 id="编程思路"><a href="#编程思路" class="headerlink" title="编程思路"></a>编程思路</h3><ul>
<li>思考程序的运行方式（交互？非交互？），运行场景</li>
<li>思考程序有哪些功能，将这些功能写为函数，写出大体框架</li>
<li>编写程序主体。按顺序调用函数</li>
<li>编写函数内容</li>
</ul>
<ol>
<li>运行方式</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python mkfile.py</span></span><br><span class="line">文件名： /etc/hosts</span><br><span class="line">文件已存在，请重试。</span><br><span class="line">文件名：/etc/</span><br><span class="line">文件已存在，请重试。</span><br><span class="line">文件名：/tmp/abc.txt</span><br><span class="line">请输入内容，输入end结束输入：</span><br><span class="line">(end to quit)&gt; hello world.</span><br><span class="line">(end to quit)&gt; ni hao.</span><br><span class="line">(end to quit)&gt; exit end</span><br><span class="line">(end to quit)&gt; end</span><br><span class="line"><span class="comment"># ls /tmp/abc.txt</span></span><br><span class="line">abc.txt</span><br><span class="line"><span class="comment"># cat /tmp/abc.txt</span></span><br><span class="line">hello world.</span><br><span class="line">ni hao.</span><br><span class="line">exit end</span><br></pre></td></tr></table></figure>

<ol>
<li>编写功能函数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_fname</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_content</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wfile</span>(<span class="params">fname, content</span>):</span></span><br></pre></td></tr></table></figure>

<ol>
<li>程序主体</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_fname</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_content</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wfile</span>(<span class="params">fname, content</span>):</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fname = get_fname()</span><br><span class="line">    content = get_content()</span><br><span class="line">    wfile(fname, content)</span><br></pre></td></tr></table></figure>

<ol>
<li>编写函数内容</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_fname</span>():</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        fname = <span class="built_in">input</span>(<span class="string">&#x27;文件名: &#x27;</span>)</span><br><span class="line">        <span class="comment"># os.path.exists(fname) =&gt; 文件已存在返回True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(fname):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        print(<span class="string">&#x27;文件已存在，请重试&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> fname</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_content</span>():</span></span><br><span class="line">    content = []</span><br><span class="line">    print(<span class="string">&#x27;请输入内容，输入end结束输入：&#x27;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        line = <span class="built_in">input</span>(<span class="string">&#x27;(end to quit)&gt; &#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> line == <span class="string">&#x27;end&#x27;</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        content.append(line + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> content</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wfile</span>(<span class="params">fname, content</span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        fobj.writelines(content)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fname = get_fname()</span><br><span class="line">    content = get_content()</span><br><span class="line">    wfile(fname, content)</span><br></pre></td></tr></table></figure>

<h2 id="序列对象"><a href="#序列对象" class="headerlink" title="序列对象"></a>序列对象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="string">&#x27;abcd&#x27;</span>)    <span class="comment"># 把字符串转成列表</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>((<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>))   <span class="comment"># 把元组转成列表</span></span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">tuple</span>(<span class="string">&#x27;abcd&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">tuple</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">tuple</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])  <span class="comment"># 把列表转成元组</span></span><br><span class="line">(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="comment"># 将各种对象转换成字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>(<span class="number">100</span>)</span><br><span class="line"><span class="string">&#x27;100&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])</span><br><span class="line"><span class="string">&#x27;[10, 20, 30]&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>((<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>))</span><br><span class="line"><span class="string">&#x27;(100, 200, 300)&#x27;</span></span><br><span class="line"><span class="comment"># 翻转函数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">reversed</span>(<span class="string">&#x27;abcd&#x27;</span>)</span><br><span class="line">&lt;<span class="built_in">reversed</span> <span class="built_in">object</span> at <span class="number">0x7f8155118ba8</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">reversed</span>(<span class="string">&#x27;abcd&#x27;</span>))</span><br><span class="line">[<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="built_in">reversed</span>(<span class="string">&#x27;abcd&#x27;</span>):</span><br><span class="line"><span class="meta">... </span>  print(ch)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;abcd&#x27;</span>[::-<span class="number">1</span>]   <span class="comment"># 翻转(另一种方法)</span></span><br><span class="line"><span class="string">&#x27;dcba&#x27;</span></span><br><span class="line"><span class="comment"># 排序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>(<span class="string">&#x27;qwertyu&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;y&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>([<span class="number">2</span>, <span class="number">343</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">4545</span>, <span class="number">23</span>, <span class="number">532</span>])</span><br><span class="line">[<span class="number">2</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">343</span>, <span class="number">532</span>, <span class="number">4545</span>]</span><br></pre></td></tr></table></figure>

<h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><ul>
<li>计算机内部存储时，都是2进制的0和1</li>
<li>可以提前预定义好一串0/1的组合代表什么字符</li>
<li>ASCII是美国信息交换标准代码的简称，用7位表示字符</li>
<li>欧洲主要采用Latin-1，即ISO-8859-1字符集，共8位</li>
<li>中国采用的是gbk / gb2313 / gb18030字符集</li>
<li>ISO国际标准化组织制定了万国码Unicode，utf8是其中的一种编码方案，它采用变长的编码方案，如果是英文字符，直接用1个字节表示，如果是汉字，用三个字节表示。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = <span class="string">&#x27;中国&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.encode()    <span class="comment"># 默认使用utf8编码，显示中国的utf8编码</span></span><br><span class="line"><span class="string">b&#x27;\xe4\xb8\xad\xe5\x9b\xbd&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.encode(<span class="string">&#x27;gbk&#x27;</span>)   <span class="comment"># 明确指明使用的编码方案是gbk</span></span><br><span class="line"><span class="string">b&#x27;\xd6\xd0\xb9\xfa&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h3><p>字符串格式化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 常用的字符串格式化方法 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%s is %s years old.&#x27;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="string">&#x27;tom is 20 years old.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%s is %d years old.&#x27;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="string">&#x27;tom is 20 years old.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%d is %d years old.&#x27;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)  <span class="comment"># 报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%10s%10s&#x27;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)      <span class="comment"># 每个占位符共10个宽度，不够的用空格补齐(右对齐)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%-10s%-10s&#x27;</span> % (<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)    <span class="comment"># 左对齐</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%-10s%-10s&#x27;</span> % (<span class="string">&#x27;jerry&#x27;</span>, <span class="number">19</span>)</span><br><span class="line"><span class="comment"># 不常用，了解</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%f&#x27;</span> % (<span class="number">5</span> / <span class="number">3</span>)</span><br><span class="line"><span class="string">&#x27;1.666667&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%d&#x27;</span> % (<span class="number">5</span> / <span class="number">3</span>)</span><br><span class="line"><span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%.2f&#x27;</span> % (<span class="number">5</span> / <span class="number">3</span>)   <span class="comment"># 保留小数点后2位数</span></span><br><span class="line"><span class="string">&#x27;1.67&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%5.2f&#x27;</span> % (<span class="number">5</span> / <span class="number">3</span>)  <span class="comment"># 共5个宽度，保留小数点后2位数</span></span><br><span class="line"><span class="string">&#x27; 1.67&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%c&#x27;</span> % <span class="number">97</span>   <span class="comment"># ASCII码97代表的字符</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%#o&#x27;</span> % <span class="number">10</span>   <span class="comment"># 转成8进制</span></span><br><span class="line"><span class="string">&#x27;0o12&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%#x&#x27;</span> % <span class="number">10</span>   <span class="comment"># 转成16进制</span></span><br><span class="line"><span class="string">&#x27;0xa&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%010d&#x27;</span> % <span class="number">5</span>   <span class="comment"># 共10个宽度，不够的用0补齐</span></span><br><span class="line"><span class="string">&#x27;0000000005&#x27;</span></span><br></pre></td></tr></table></figure>

<p>使用format方法实现字符串格式化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用&#123;&#125;作为占位符</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;&#125; is &#123;&#125; years old.&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="string">&#x27;tom is 20 years old.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;1&#125; is &#123;0&#125; years old.&#x27;</span>.<span class="built_in">format</span>(<span class="number">20</span>, <span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;tom is 20 years old.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;:&lt;10&#125;&#123;:&lt;10&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)  <span class="comment"># 左对齐</span></span><br><span class="line"><span class="string">&#x27;tom       20        &#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;:&gt;10&#125;&#123;:&gt;10&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)   <span class="comment"># 右对齐</span></span><br><span class="line"><span class="string">&#x27;       tom        20&#x27;</span></span><br></pre></td></tr></table></figure>

<p>案例2:创建用户</p>
<ol>
<li>编写一个程序,实现创建用户的功能</li>
<li>提示用户输入用户名</li>
<li>随机生成8位密码</li>
<li>创建用户并设置密码</li>
<li>将用户相关信息写入指定文件</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">04.</span>py</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> randpass2  <span class="comment"># 导入自己编写的模块</span></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">adduser</span>(<span class="params">username, password, fname</span>):</span></span><br><span class="line">    <span class="comment"># 判断用户是否已经存在</span></span><br><span class="line">    result = subprocess.run(</span><br><span class="line">        <span class="string">&#x27;id %s&#x27;</span> % username,</span><br><span class="line">        shell=<span class="literal">True</span>,</span><br><span class="line">        stdout=subprocess.PIPE,</span><br><span class="line">        stderr=subprocess.PIPE</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">if</span> result.returncode == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;%s已存在&#x27;</span> % username)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># 函数遇到return就返回，不会再向下执行</span></span><br><span class="line">    <span class="comment"># 创建用户，并设置密码</span></span><br><span class="line">    subprocess.run(<span class="string">&#x27;useradd %s&#x27;</span> % username, shell=<span class="literal">True</span>)</span><br><span class="line">    subprocess.run(</span><br><span class="line">        <span class="string">&#x27;echo %s | passwd --stdin %s&#x27;</span> % (password, username),</span><br><span class="line">        shell=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># 写入用户信息到文件</span></span><br><span class="line">    info = <span class="string">&quot;&quot;&quot;user info:</span></span><br><span class="line"><span class="string">username: %s</span></span><br><span class="line"><span class="string">password: %s</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span> % (username, password)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;a&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        fobj.write(info)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    username = sys.argv[<span class="number">1</span>]</span><br><span class="line">    password = randpass2.randpass()</span><br><span class="line">    fname = <span class="string">&#x27;/tmp/users.txt&#x27;</span></span><br><span class="line">    adduser(username, password, fname)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># python 04.py jerry</span></span><br><span class="line">更改用户 jerry 的密码 。</span><br><span class="line">passwd：所有的身份验证令牌已经成功更新。</span><br><span class="line"><span class="comment"># cat /tmp/users.txt</span></span><br><span class="line">user info:</span><br><span class="line">username: jerry</span><br><span class="line">password: 5IuYJmZb</span><br></pre></td></tr></table></figure>

<p>原始字符串/真实字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>win_path = <span class="string">&#x27;c:\temp\new&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(win_path)</span><br><span class="line">c:    emp</span><br><span class="line">ew</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>win_path = <span class="string">&#x27;c:\\temp\\new&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(win_path)</span><br><span class="line">c:\temp\new</span><br><span class="line"><span class="comment"># 以上写法可以改为原始字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>wpath = <span class="string">r&#x27;c:\temp\new&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(wpath)</span><br><span class="line">c:\temp\new</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>wpath</span><br><span class="line"><span class="string">&#x27;c:\\temp\\new&#x27;</span></span><br></pre></td></tr></table></figure>

<p>字符串方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2 = <span class="string">&#x27;HAO 123&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s3 = <span class="string">&#x27;hao123&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4 = <span class="string">&#x27;7298302&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s5 = <span class="string">&#x27;\t  hello world\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.center(<span class="number">48</span>)  <span class="comment"># 居中，总宽度48</span></span><br><span class="line"><span class="string">&#x27;                  hello world                   &#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.center(<span class="number">48</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;******************hello world*******************&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.ljust(<span class="number">48</span>, <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;hello world#####################################&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.rjust(<span class="number">48</span>, <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;#####################################hello world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.upper()</span><br><span class="line"><span class="string">&#x27;HELLO WORLD&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2.lower()</span><br><span class="line"><span class="string">&#x27;hao 123&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s5.strip()   <span class="comment"># 去除字符串两端的空白字符</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s5.rstrip()</span><br><span class="line"><span class="string">&#x27;\t  hello world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s5.lstrip()</span><br><span class="line"><span class="string">&#x27;hello world\n&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.startswith(<span class="string">&#x27;h&#x27;</span>)  <span class="comment"># 以h开头吗</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.startswith(<span class="string">&#x27;he&#x27;</span>)  <span class="comment"># 以he开头吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.endswith(<span class="string">&#x27;ab&#x27;</span>)   <span class="comment"># 以ab结尾吗？</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.replace(<span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;a&#x27;</span>)   <span class="comment"># 替换l为a</span></span><br><span class="line"><span class="string">&#x27;heaao worad&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.replace(<span class="string">&#x27;ll&#x27;</span>, <span class="string">&#x27;ab&#x27;</span>)  <span class="comment"># 替换ll为ab</span></span><br><span class="line"><span class="string">&#x27;heabo world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.split()   <span class="comment"># 默认以空格作为分隔符切割</span></span><br><span class="line">[<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;hello.world.ni.hao&#x27;</span>.split(<span class="string">&#x27;.&#x27;</span>)   <span class="comment"># 将点作为分隔符</span></span><br><span class="line">[<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>, <span class="string">&#x27;ni&#x27;</span>, <span class="string">&#x27;hao&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;-&#x27;</span>.join([<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;hao&#x27;</span>])  <span class="comment"># 用-拼接</span></span><br><span class="line"><span class="string">&#x27;abc-hello-hao&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> string <span class="keyword">import</span> ascii_letters, digits</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all_chs = ascii_letters + digits</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[choice(all_chs)]</span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[choice(all_chs) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>)]</span><br><span class="line">[<span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;v&#x27;</span>, <span class="string">&#x27;y&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.join([choice(all_chs) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>)])</span><br><span class="line"><span class="string">&#x27;Saqo19u0&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1</span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.islower()   <span class="comment"># 字符串中的所有字母都是小写吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2</span><br><span class="line"><span class="string">&#x27;HAO 123&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2.isupper()   <span class="comment"># 字符串中的所有字母都是大写吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2.isdigit()   <span class="comment"># 字符串中的所有字符都是数字吗？</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4</span><br><span class="line"><span class="string">&#x27;7298302&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4.isdigit()</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;Hao&#x27;</span>.isalpha()   <span class="comment"># 所有的字符都是字母吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;Hao123&#x27;</span>.isalpha()</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;Hao123&#x27;</span>.isalnum()  <span class="comment"># 所有的字符都是字母和数字吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4</span><br><span class="line"><span class="string">&#x27;7298302&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s4.isdigit()</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> s4:</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">if</span> ch <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;0123456789&#x27;</span>:</span><br><span class="line"><span class="meta">... </span>    print(<span class="literal">False</span>)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">break</span></span><br><span class="line"><span class="meta">... </span><span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>  print(<span class="literal">True</span>)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="列表-1"><a href="#列表-1" class="headerlink" title="列表"></a>列表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist = [<span class="number">10</span>, <span class="number">5</span>, <span class="number">32</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">1</span>:<span class="number">3</span>] = [<span class="number">45</span>, <span class="number">88</span>, <span class="number">12</span>, <span class="number">24</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist</span><br><span class="line">[<span class="number">100</span>, <span class="number">45</span>, <span class="number">88</span>, <span class="number">12</span>, <span class="number">24</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">2</span>:<span class="number">2</span>]</span><br><span class="line">[]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist[<span class="number">2</span>:<span class="number">2</span>] = [<span class="number">12</span>, <span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist</span><br><span class="line">[<span class="number">100</span>, <span class="number">45</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">88</span>, <span class="number">12</span>, <span class="number">24</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">20</span>]</span><br><span class="line"><span class="comment"># 列表的方法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.append(<span class="number">12</span>) <span class="comment"># 追加</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.extend([<span class="number">55</span>, <span class="number">32</span>, <span class="number">1</span>]) <span class="comment"># 加入多项</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.remove(<span class="number">8</span>) <span class="comment"># 移除第一个8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.index(<span class="number">12</span>) <span class="comment"># 返回第一个12的下标</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.reverse() <span class="comment"># 翻转</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>blist = alist.copy() <span class="comment"># 将alist的值copy后，赋值给blist</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.insert(<span class="number">2</span>, <span class="number">88</span>) <span class="comment"># 在下标为2的位置插入88</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.sort() <span class="comment"># 升序排列</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.sort(reverse=<span class="literal">True</span>) <span class="comment"># 降序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.count(<span class="number">12</span>) <span class="comment"># 统计12出现的次数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.pop() <span class="comment"># 将最后一项弹出</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.pop(<span class="number">2</span>) <span class="comment"># 弹出下标为2的项目</span></span><br></pre></td></tr></table></figure>

<h3 id="元组-1"><a href="#元组-1" class="headerlink" title="元组"></a>元组</h3><p>相当于是静态的列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple.count(<span class="number">10</span>) <span class="comment"># 统计10出现的次数</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>atuple.index(<span class="number">15</span>) <span class="comment"># 获取15的下标</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = (<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a) &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">int</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">a</span></span></span><br><span class="line"><span class="class">10</span></span><br><span class="line">&gt;&gt;&gt; b = (10,) # 单元素元组必须有逗号</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(b) &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">tuple</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">len</span>(<span class="params">b</span>)</span></span><br><span class="line"><span class="class">1</span></span><br></pre></td></tr></table></figure>

<p>练习：模拟栈结构</p>
<ol>
<li>栈是一个后进先出的结构</li>
<li>编写一个程序,用列表实现栈结构</li>
<li>需要支持压栈、出栈、查询功能<ol>
<li>思考程序的运作方式</li>
</ol>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span></span><br><span class="line">[]</span><br><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">0</span></span><br><span class="line">数据: hello</span><br><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">0</span></span><br><span class="line">数据: world <span class="comment">#后进先出(后写进去的内容先被取出 ) (0) 压栈</span></span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span> [<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>] (<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">1</span></span><br><span class="line">从栈中弹出: world</span><br><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span> [<span class="string">&#x27;hello&#x27;</span>] (<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">1</span></span><br><span class="line">从栈中弹出: hello</span><br><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">1</span></span><br><span class="line">空栈</span><br><span class="line">(<span class="number">0</span>) 压栈</span><br><span class="line">(<span class="number">1</span>) 出栈</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">3</span></span><br><span class="line">bye-bye</span><br></pre></td></tr></table></figure>

<ol>
<li>思考程序有哪些功能，将功能定义成函数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">push_it</span>():</span>       <span class="comment">#压栈</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pop_it</span>():</span>        <span class="comment">#出栈</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_it</span>():</span>       <span class="comment">#查询</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span>      <span class="comment">#所有实现功能的其他判断语句汇总成一个函数</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> show_menu()</span><br></pre></td></tr></table></figure>

<p>3.在各个函数中编写具体的功能语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">第一种方法:</span><br><span class="line">stack = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">push_it</span>():</span></span><br><span class="line">     data = <span class="built_in">input</span>(<span class="string">&#x27;请输入数据:&#x27;</span>).strip()</span><br><span class="line">     <span class="keyword">if</span> data:</span><br><span class="line">         stack.append(data)</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         print(<span class="string">&#x27;数据为空,未添加&#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pop_it</span>():</span></span><br><span class="line">     <span class="keyword">if</span> stack:</span><br><span class="line">         print(<span class="string">&#x27;从栈中弹出: %s&#x27;</span> % stack.pop())</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         print(<span class="string">&#x27;空栈&#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_it</span>():</span></span><br><span class="line">     print(stack)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line">    prompt = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(0) 压栈</span></span><br><span class="line"><span class="string">(1) 出栈</span></span><br><span class="line"><span class="string">(2) 查询</span></span><br><span class="line"><span class="string">(3) 退出</span></span><br><span class="line"><span class="string">请选择(0/1/2/3):&#x27;&#x27;&#x27;</span></span><br><span class="line">     <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">         choice = <span class="built_in">input</span>(prompt).strip()</span><br><span class="line">         <span class="keyword">if</span> choice <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>]:</span><br><span class="line">             print(<span class="string">&#x27;无效输入,请重试!&#x27;</span>)</span><br><span class="line">             <span class="keyword">continue</span></span><br><span class="line">         <span class="keyword">if</span> choice == <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">             push_it()</span><br><span class="line">         <span class="keyword">elif</span> choice == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">             pop_it()</span><br><span class="line">         <span class="keyword">elif</span> choice == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">             view_it()</span><br><span class="line">         <span class="keyword">else</span>:</span><br><span class="line">             print(<span class="string">&#x27;Bye_bye&#x27;</span>)</span><br><span class="line">             <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">     show_menu()</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment">#第二种方法(使用字典):</span></span><br><span class="line">stack = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">push_it</span>():</span></span><br><span class="line">     data = <span class="built_in">input</span>(<span class="string">&#x27;数据: &#x27;</span>).strip()</span><br><span class="line">     <span class="keyword">if</span> data:</span><br><span class="line">         stack.append(data)</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         print(<span class="string">&#x27;数据为空，未添加 &#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pop_it</span>():</span></span><br><span class="line">     <span class="keyword">if</span> stack:</span><br><span class="line">         print(<span class="string">&#x27;从栈中弹出: %s&#x27;</span> % stack.pop())</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         print(<span class="string">&#x27;空栈&#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_it</span>():</span></span><br><span class="line">     print(stack)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line">                     <span class="comment"># 字典是容器类型，可以把任意对象存入，本例中存入函数</span></span><br><span class="line">     cmds = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: push_it, <span class="string">&#x27;1&#x27;</span>: pop_it, <span class="string">&#x27;2&#x27;</span>: view_it&#125;</span><br><span class="line">     prompt = <span class="string">&quot;&quot;&quot;(0) 压栈</span></span><br><span class="line"><span class="string">(1) 出栈</span></span><br><span class="line"><span class="string">(2) 查询</span></span><br><span class="line"><span class="string">(3) 退出</span></span><br><span class="line"><span class="string">请选择(0/1/2/3): &quot;&quot;&quot;</span></span><br><span class="line">     <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">         choice = <span class="built_in">input</span>(prompt).strip() <span class="comment"># 去掉字符串两端空白字符</span></span><br><span class="line">         <span class="keyword">if</span> choice <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]:</span><br><span class="line">             print(<span class="string">&#x27;无效输入，请重试。 &#x27;</span>)</span><br><span class="line">             <span class="keyword">continue</span></span><br><span class="line">         <span class="keyword">if</span> choice == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">             print(<span class="string">&#x27;Bye-bye&#x27;</span>)</span><br><span class="line">             <span class="keyword">break</span></span><br><span class="line">         cmds[choice]()            <span class="comment"># 在字典中取出相应的函数进行调用</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">     show_menu()</span><br></pre></td></tr></table></figure>

<h3 id="字典-1"><a href="#字典-1" class="headerlink" title="字典"></a>字典</h3><ul>
<li>映射、可变、容器</li>
<li>字典key不能重复</li>
<li>为字典赋值时，key存在则修改，不存在则新建</li>
<li>字典的key必须是不可变对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>([<span class="string">&#x27;ab&#x27;</span>, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>], (<span class="string">&#x27;age&#x27;</span>, <span class="number">20</span>)])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>: <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>([(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;tom&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="number">20</span>), (<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;tom@tedu.cn&#x27;</span>)])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;mail&#x27;</span>: <span class="string">&#x27;tom@tedu.cn&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;</span><br><span class="line">    &#125;.fromkeys([<span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>], <span class="number">20</span>) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;tom&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;jerry&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;bob&#x27;</span>: <span class="number">20</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info = <span class="built_in">dict</span>([(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;tom&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="number">20</span>), (<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;tom@tedu.cn&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;mail&#x27;</span>: <span class="string">&#x27;tom@tedu.cn&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> info:</span><br><span class="line"><span class="meta">... </span>print(key, info[key])</span><br><span class="line">...</span><br><span class="line">name tom</span><br><span class="line">age <span class="number">20</span></span><br><span class="line">mail tom@tedu.cn</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%(name)s is %(age)s years old&#x27;</span> % info</span><br><span class="line"><span class="string">&#x27;tom is 20 years old&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%s is %s years old&#x27;</span> % (info[<span class="string">&#x27;name&#x27;</span>], info[<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;tom is 20 years old&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info[<span class="string">&#x27;age&#x27;</span>] = <span class="number">22</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info[<span class="string">&#x27;phone&#x27;</span>] = <span class="string">&#x27;15012345678&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">22</span>, <span class="string">&#x27;mail&#x27;</span>: <span class="string">&#x27;tom@tedu.cn&#x27;</span>, <span class="string">&#x27;phone&#x27;</span>: <span class="string">&#x27;15012345678&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;tom&#x27;</span> <span class="keyword">in</span> info</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> info</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(info) <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.keys() <span class="comment"># 取出所有的key</span></span><br><span class="line">dict_keys([<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;phone&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.values() <span class="comment"># 取出所有的value</span></span><br><span class="line">dict_values([<span class="string">&#x27;tom&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;tom@tedu.cn&#x27;</span>, <span class="string">&#x27;15012345678&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.items() <span class="comment"># 取出键值对</span></span><br><span class="line">dict_items([(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;tom&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="number">22</span>), (<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;tom@tedu.cn&#x27;</span>), (<span class="string">&#x27;phone&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;15012345678&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(info.items()) <span class="comment"># 将键值对转成列表</span></span><br><span class="line">[(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;tom&#x27;</span>), (<span class="string">&#x27;age&#x27;</span>, <span class="number">22</span>), (<span class="string">&#x27;mail&#x27;</span>, <span class="string">&#x27;tom@tedu.cn&#x27;</span>), (<span class="string">&#x27;phone&#x27;</span>, <span class="string">&#x27;15012345678&#x27;</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.popitem() <span class="comment"># 弹出字典中的一项</span></span><br><span class="line">(<span class="string">&#x27;phone&#x27;</span>, <span class="string">&#x27;15012345678&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.pop(<span class="string">&#x27;mail&#x27;</span>) <span class="comment"># 弹出key是mail的项目</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.update(&#123;</span><br><span class="line">    <span class="string">&#x27;mail&#x27;</span>: <span class="string">&#x27;tom@qq.com&#x27;</span>&#125;) <span class="comment"># 更新字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;</span><br><span class="line">    (<span class="number">1</span>, <span class="number">2</span>): <span class="string">&#x27;tom&#x27;</span>&#125; <span class="comment"># 元组作为key</span></span><br><span class="line">&#123;</span><br><span class="line">    (<span class="number">1</span>, <span class="number">2</span>): <span class="string">&#x27;tom&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>]: <span class="string">&#x27;tom&#x27;</span>&#125; <span class="comment"># 列表是可变的，不能成为 key，报错</span></span><br><span class="line"><span class="comment"># **字典中最重要的方法 **</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.get(<span class="string">&#x27;name&#x27;</span>) <span class="comment"># 在字典中取出key为name的值</span></span><br><span class="line"><span class="string">&#x27;tom&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(info.get(<span class="string">&#x27;phone&#x27;</span>)) <span class="comment"># key不在字典中，默认返回 None</span></span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(info.get(<span class="string">&#x27;phone&#x27;</span>, <span class="string">&#x27;not found&#x27;</span>)) <span class="comment"># 找不到key返回not found</span></span><br><span class="line"><span class="keyword">not</span> found</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>info.get(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;not found&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;tom&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(info.get(<span class="string">&#x27;phone&#x27;</span>, <span class="string">&#x27;110&#x27;</span>))</span><br><span class="line"><span class="number">110</span></span><br></pre></td></tr></table></figure>

<p>案例2:模拟用户登陆信息系统</p>
<ol>
<li>支持新用户注册,新用户名和密码注册到字典中</li>
<li>支持老用户登陆,用户名和密码正确提示登陆成功</li>
<li>主程序通过循环询问进行何种操作,根据用户的选择,执行注册或是登陆操作</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> getpass</span><br><span class="line">userdb = &#123;</span><br><span class="line">    &#125; <span class="comment"># 用于存储用户名和密码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span>():</span></span><br><span class="line">     username = <span class="built_in">input</span>(<span class="string">&#x27;用户名: &#x27;</span>).strip()</span><br><span class="line">     <span class="keyword">if</span> username == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">         print(<span class="string">&#x27;用户名不能为空 &#x27;</span>)</span><br><span class="line">     <span class="keyword">elif</span> <span class="keyword">not</span> username.isalnum():</span><br><span class="line">         print(<span class="string">&#x27;用户名只能包含字母和数字 &#x27;</span>)</span><br><span class="line">     <span class="keyword">elif</span> username <span class="keyword">in</span> userdb:</span><br><span class="line">         print(<span class="string">&#x27;用户已存在&#x27;</span>)</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         password = <span class="built_in">input</span>(<span class="string">&#x27;密码: &#x27;</span>)</span><br><span class="line">         userdb[username] = password</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">     username = <span class="built_in">input</span>(<span class="string">&#x27;用户名: &#x27;</span>).strip()</span><br><span class="line">     password = getpass.getpass(<span class="string">&#x27;密码: &#x27;</span>).strip()</span><br><span class="line">     <span class="comment"># if username not in userdb or userdb[username] != password:</span></span><br><span class="line">     <span class="keyword">if</span> userdb.get(username) != password:</span><br><span class="line">         print(<span class="string">&#x27;\033[31;1m登陆失败\033[0m&#x27;</span>)</span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         print(<span class="string">&#x27;\033[32;1m登陆成功\033[0m&#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line">     cmds = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: register, <span class="string">&#x27;1&#x27;</span>: login&#125;</span><br><span class="line">     prompt = <span class="string">&quot;&quot;&quot;(0) 注册</span></span><br><span class="line"><span class="string">(1) 登陆</span></span><br><span class="line"><span class="string">(2) 退出</span></span><br><span class="line"><span class="string">请选择(0/1/2): &quot;&quot;&quot;</span></span><br><span class="line">     <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">         choice = <span class="built_in">input</span>(prompt).strip()</span><br><span class="line">         <span class="keyword">if</span> choice <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>]:</span><br><span class="line">             print(<span class="string">&#x27;无效的选择，请重试。 &#x27;</span>)</span><br><span class="line">             <span class="keyword">continue</span></span><br><span class="line">         <span class="keyword">if</span> choice == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">             print(<span class="string">&#x27;Bye-bye&#x27;</span>)</span><br><span class="line">             <span class="keyword">break</span></span><br><span class="line">         cmds[choice]()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">     show_menu()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">验证:</span><br><span class="line"><span class="comment"># python 05.py</span></span><br><span class="line">(<span class="number">0</span>) 注册</span><br><span class="line">(<span class="number">1</span>) 登陆</span><br><span class="line">(<span class="number">2</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>): <span class="number">0</span></span><br><span class="line">用户名:lss</span><br><span class="line">密码:<span class="number">123</span></span><br><span class="line">(<span class="number">0</span>) 注册</span><br><span class="line">(<span class="number">1</span>) 登陆</span><br><span class="line">(<span class="number">2</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>): <span class="number">1</span></span><br><span class="line">用户名: lss</span><br><span class="line">密码:</span><br><span class="line">登陆成功</span><br><span class="line">(<span class="number">0</span>) 注册</span><br><span class="line">(<span class="number">1</span>) 登陆</span><br><span class="line">(<span class="number">2</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>): <span class="number">2</span></span><br><span class="line">Bye-bye</span><br></pre></td></tr></table></figure>



<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>集合是一个数学上的概念</p>
<ul>
<li>它由不同元素构成</li>
<li>集合元素必须是不可变对象</li>
<li>集合是无序的</li>
<li>集合就像是一个无值的字典</li>
<li>集合分成可变集合和不可变集合</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">frozenset</span>(<span class="string">&#x27;abc&#x27;</span>) <span class="comment"># 不可变集合，集合一旦创建，不能做增删改操作</span></span><br><span class="line"><span class="built_in">frozenset</span>(&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">set</span>([<span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset = <span class="built_in">set</span>(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bset = <span class="built_in">set</span>(<span class="string">&#x27;bcd&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bset</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset &amp; bset <span class="comment"># 交集，两个集合中都有的元素</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset | bset <span class="comment"># 并集，两个集合中所有的元素</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset - bset <span class="comment"># 差补，aset中有，bset中无</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bset - aset <span class="comment"># 差补，bset中有，aset中无</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(aset) </span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> aset</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> aset:</span><br><span class="line"><span class="meta">... </span>print(ch)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.add(<span class="number">10</span>) <span class="comment"># 向集合中加入新项目</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.pop() <span class="comment"># 弹出任意一个元素</span></span><br><span class="line"><span class="string">&#x27;b&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.remove(<span class="number">10</span>) <span class="comment"># 删除指定的元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.update([<span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;jerry&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset = <span class="built_in">set</span>(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bset = <span class="built_in">set</span>(<span class="string">&#x27;bcd&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.union(bset) <span class="comment"># aset | bset</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.intersection(bset) <span class="comment"># aset &amp; bset</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.difference(bset) <span class="comment"># aset - bset</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cset = aset.union(bset)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>aset.issubset(cset) <span class="comment"># aset是cset的子集吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cset.issuperset(aset) <span class="comment"># cset是aset的超集吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="comment"># 经常使用集合实现去重操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [randint(<span class="number">1</span>, <span class="number">20</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums</span><br><span class="line">[<span class="number">6</span>, <span class="number">12</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">16</span>, <span class="number">15</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">17</span>, <span class="number">13</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">16</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line"><span class="meta">... </span><span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> result:</span><br><span class="line"><span class="meta">... </span>result.append(i)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result</span><br><span class="line">[<span class="number">6</span>, <span class="number">12</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">1</span>, <span class="number">16</span>, <span class="number">15</span>, <span class="number">5</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">17</span>, <span class="number">13</span>, <span class="number">2</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">set</span>(nums))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>]</span><br></pre></td></tr></table></figure>

<p>练习：</p>
<ul>
<li>模拟unix2dos程序<ul>
<li>windows系统把\r\n作为行结束标志</li>
<li>非windows系统把\n作为行结束标志</li>
</ul>
</li>
</ul>
<p>python l2w.py userdb.py =&gt;生成新文件，已经具有windows的换行符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">转换为windows换行格式</span></span><br><span class="line"><span class="string">把源文件的每行结尾的空白字符删除，再拼接上 \r\n</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span> </span><br><span class="line"> ----&gt;解决的是linux上的文本文件拿到 windows上打开后就成一行显示 ,没有回车,需要将文本文件转换后即</span><br><span class="line">可.</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">unix2dos</span>(<span class="params">src, dst</span>):</span></span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(src) <span class="keyword">as</span> src_fobj:</span><br><span class="line">         <span class="keyword">with</span> <span class="built_in">open</span>(dst, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> dst_fobj:</span><br><span class="line">             <span class="keyword">for</span> line <span class="keyword">in</span> src_fobj:</span><br><span class="line">                 line = line.rstrip() + <span class="string">&#x27;\r\n&#x27;</span></span><br><span class="line">                 dst_fobj.write(line)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">     unix2dos(sys.argv[<span class="number">1</span>], sys.argv[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<h3 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h3><p>时间的表示方式：</p>
<ul>
<li><p>时间戳：1970-1-1 00:00:00到某一时间点之间的秒数</p>
</li>
<li><p>UTC时间：世界协调时</p>
</li>
<li><p>9元组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time <span class="comment"># 时间戳</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.time() <span class="number">1565141637.870625</span></span><br><span class="line"><span class="comment"># UTC时间</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.ctime()    <span class="comment"># 返回当前时间</span></span><br><span class="line"><span class="string">&#x27;Wed Aug    7 09:34:59 2019&#x27;</span></span><br><span class="line"><span class="comment"># 9元组</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.localtime()    <span class="comment"># 当前时间的9元组，括号中是时间对象拥有的属性time.struct_time(tm_year=2019, tm_mon=8, tm_mday=7, tm_hour=9, tm_min=35, tm_sec=39, tm_wday=2, tm_yday=219, tm_isdst=0)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t1 = time.localtime()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t1.tm_year <span class="number">2019</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t1.tm_yday <span class="number">219</span></span><br><span class="line"><span class="comment"># 睡眠3秒</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 将时间转换成指定的字符串样式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>) <span class="string">&#x27;2019-08-07 09:51:28&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strftime(<span class="string">&#x27;%a&#x27;</span>) <span class="string">&#x27;Wed&#x27;</span></span><br><span class="line"><span class="comment"># 将时间字符串转换为 9元组时间对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strptime(<span class="string">&#x27;2019-08-07 10:17:23&#x27;</span>, <span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line">time.struct_time(tm_year=<span class="number">2019</span>, tm_mon=<span class="number">8</span>, tm_mday=<span class="number">7</span>, tm_hour=<span class="number">10</span>, tm_min=<span class="number">17</span>, tm_sec=<span class="number">23</span>, tm_wday=<span class="number">2</span>, tm_yday=<span class="number">219</span>, tm_isdst=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h3><ul>
<li>datetime.datetime模块用于表示时间</li>
<li>dateteme.timedelta常用于计算时间差额</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = datetime.now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t    <span class="comment"># 括号中是datetime对象的属性</span></span><br><span class="line">datetime.datetime(<span class="number">2019</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">56</span>, <span class="number">27</span>, <span class="number">91802</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t.year, t.month, t.day, t.hour, t.minute, t.second, t.microsecond (<span class="number">2019</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">56</span>, <span class="number">27</span>, <span class="number">91802</span>)</span><br><span class="line"><span class="comment"># 获取datetime对象相应的时间字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>) <span class="string">&#x27;2019-08-07 10:56:27&#x27;</span></span><br><span class="line"><span class="comment"># 将时间字符串转换成datetime对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.strptime(<span class="string">&#x27;2019-8-7&#x27;</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>) datetime.datetime(<span class="number">2019</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="comment"># 100天3小时之前、之后的时间</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>days = timedelta(days=<span class="number">100</span>, hours=<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = datetime.now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t - days</span><br><span class="line">datetime.datetime(<span class="number">2019</span>, <span class="number">4</span>, <span class="number">29</span>, <span class="number">8</span>, <span class="number">24</span>, <span class="number">9</span>, <span class="number">967534</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t + days</span><br><span class="line">datetime.datetime(<span class="number">2019</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">24</span>, <span class="number">9</span>, <span class="number">967534</span>)</span><br></pre></td></tr></table></figure>

<h4 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h4><p>程序报错了怎么办？</p>
<p>没有异常处理，程序遇到错误就崩溃终止执行了。异常处理需要发现问题，并给出解决问题的编码方案，使得程序 再遇到错误时，不会崩溃，仍然能够向下继续执行。</p>
<p>异常处理的完整代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">有可能发生异常的语句</span><br><span class="line"><span class="keyword">except</span> 异常<span class="number">1</span>:</span><br><span class="line">处理代码</span><br><span class="line"><span class="keyword">except</span> (异常<span class="number">2</span>, 异常<span class="number">3</span>): 处理代码</span><br><span class="line"><span class="meta">... </span>...</span><br><span class="line"><span class="keyword">except</span> 异常n:</span><br><span class="line">处理代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">不发生异常才执行的代码</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">不管是否发生异常都执行的代码</span><br></pre></td></tr></table></figure>

<h3 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h3><p>对文件系统的访问大多通过python的os模块实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getcwd()    <span class="comment"># pwd &#x27;/var/ftp/nsd2019/nsd1903/python02/day01&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()    <span class="comment"># ls</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir(<span class="string">&#x27;/tmp&#x27;</span>)    <span class="comment"># ls /tmp</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.mkdir(<span class="string">&#x27;/tmp/demo&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.makedirs(<span class="string">&#x27;/tmp/aaaa/bbb/ccc&#x27;</span>)    <span class="comment"># mkdir -p</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">&#x27;/tmp/demo&#x27;</span>)    <span class="comment"># cd /tmp/demo</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()    <span class="comment"># ls</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> shutil</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>shutil.copy(<span class="string">&#x27;/etc/passwd&#x27;</span>, <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.symlink(<span class="string">&#x27;/etc/hosts&#x27;</span>, <span class="string">&#x27;zhuji&#x27;</span>)    <span class="comment"># ln -s /etc/hosts zhuji</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.mkdir(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir() [<span class="string">&#x27;passwd&#x27;</span>, <span class="string">&#x27;zhuji&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.rmdir(<span class="string">&#x27;abc&#x27;</span>)    <span class="comment"># rmdir abc    只能删除空目录</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.remove(<span class="string">&#x27;zhuji&#x27;</span>)    <span class="comment"># rm -rf zhuji</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.basename(<span class="string">&#x27;/tmp/demo/abc.txt&#x27;</span>)    <span class="comment"># 返回文件名部分</span></span><br><span class="line"><span class="string">&#x27;abc.txt&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.dirname(<span class="string">&#x27;/tmp/demo/abc.txt&#x27;</span>)    <span class="comment"># 返回路径部分</span></span><br><span class="line"><span class="string">&#x27;/tmp/demo&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">&#x27;/tmp/demo/abc.txt&#x27;</span>)    <span class="comment"># 切割</span></span><br><span class="line">(<span class="string">&#x27;/tmp/demo&#x27;</span>, <span class="string">&#x27;abc.txt&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.abspath(<span class="string">&#x27;.&#x27;</span>)    <span class="comment"># 返回当前路径的绝对路径</span></span><br><span class="line"><span class="string">&#x27;/tmp/demo&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.abspath(<span class="string">&#x27;passwd&#x27;</span>)    <span class="comment"># 返回当前目录下文件的绝对路径</span></span><br><span class="line"><span class="string">&#x27;/tmp/demo/passwd&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.join(<span class="string">&#x27;/tmp/demo&#x27;</span>, <span class="string">&#x27;abc.txt&#x27;</span>)    <span class="comment"># 拼接路径</span></span><br><span class="line"><span class="string">&#x27;/tmp/demo/abc.txt&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isabs(<span class="string">&#x27;passwd&#x27;</span>)    <span class="comment"># 是绝对路径吗？</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isfile(<span class="string">&#x27;/etc/hosts&#x27;</span>)    <span class="comment"># 存在并且是文件吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.ismount(<span class="string">&#x27;/&#x27;</span>)    <span class="comment"># 是挂载点吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.isdir(<span class="string">&#x27;/etc/abcd&#x27;</span>)    <span class="comment"># 存在并且是目录吗？</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.islink(<span class="string">&#x27;/etc/grub2.cfg&#x27;</span>)    <span class="comment"># 存在并且是链接吗？</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.exists(<span class="string">&#x27;/etc/&#x27;</span>)    <span class="comment"># 存在吗？</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="pickle模块"><a href="#pickle模块" class="headerlink" title="pickle模块"></a>pickle模块</h3><p>它可以将任意数据类型写入到文件，并且可以无损地取出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = <span class="built_in">open</span>(<span class="string">&#x27;/tmp/myfil&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">&#x27;Hello World.\n&#x27;</span>) <span class="number">13</span></span><br><span class="line"><span class="comment"># 常规的文件操作，只能把字符写入文件，不能写其他数据类型</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="number">100</span>)    <span class="comment"># 报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;)    <span class="comment"># 报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br><span class="line"><span class="comment"># 使用pickle模块操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pickle</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user = &#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125; <span class="comment"># 将字典写入文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/tmp/myfile&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">... </span>   pickle.dump(user, f)</span><br><span class="line"><span class="comment"># 在文件中将字典取出</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/tmp/myfile&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">... </span>   mydict = pickle.load(f)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mydict</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure>

<p>练习：记账程序</p>
<ul>
<li>假设在记账时,有一万元钱</li>
<li>无论是开销还是收入都要进行记账</li>
<li>记账内容包括时间、金额和说明等</li>
<li>记账数据要求永久存储</li>
</ul>
<ol>
<li>程序的运作方式</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span></span><br><span class="line">日期 收入 支出 余额 说明</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> 初始化</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">1</span></span><br><span class="line">金额： <span class="number">100</span></span><br><span class="line">备注： 七夕买花</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span></span><br><span class="line">日期 收入 支出 余额 说明</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> 初始化</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">0</span> <span class="number">100</span> <span class="number">9900</span> 七夕买花</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">0</span></span><br><span class="line">金额： <span class="number">10000</span></span><br><span class="line">备注： 工资</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">2</span></span><br><span class="line">日期 收入 支出 余额 说明</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> 初始化</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">0</span> <span class="number">100</span> <span class="number">9900</span> 七夕买花</span><br><span class="line"><span class="number">2019</span>-<span class="number">8</span>-<span class="number">7</span> <span class="number">10000</span> <span class="number">0</span> <span class="number">19900</span> 工资</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line">(<span class="number">2</span>) 查询</span><br><span class="line">(<span class="number">3</span>) 退出</span><br><span class="line">请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>): <span class="number">3</span></span><br><span class="line">Bye-bye</span><br></pre></td></tr></table></figure>

<ol>
<li>思考有哪些功能，将功能写成函数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span>():</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> show_menu()</span><br></pre></td></tr></table></figure>

<ol>
<li>分析存储的数据结构</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将每一行数据保存成一个小列表，所有行存入一个大列表</span></span><br><span class="line">records = [</span><br><span class="line"> [<span class="string">&#x27;2019-8-7&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">10000</span>, <span class="string">&#x27;init&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;2019-8-7&#x27;</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">9900</span>, <span class="string">&#x27;buy flowers&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;2019-8-7&#x27;</span>, <span class="number">10000</span>, <span class="number">0</span>, <span class="number">19900</span>, <span class="string">&#x27;salary&#x27;</span>],</span><br><span class="line">]</span><br><span class="line"><span class="comment"># 取出最新余额</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>records[-<span class="number">1</span>][-<span class="number">2</span>]</span><br><span class="line"><span class="number">19900</span></span><br><span class="line"><span class="comment"># 取出时间</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;2019-08-07&#x27;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>填写函数代码</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> strftime</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save</span>(<span class="params">fname</span>):</span></span><br><span class="line">     amount = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;金额:&#x27;</span>))</span><br><span class="line">     comment = <span class="built_in">input</span>(<span class="string">&#x27;备注:&#x27;</span>)</span><br><span class="line">     date = strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(fname,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">     records = pickle.load(fobj)</span><br><span class="line">     balance = records[-<span class="number">1</span>][-<span class="number">2</span>] + amount</span><br><span class="line">     records.append([date,amount,<span class="number">0</span>,balance,comment])</span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(fname,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">     pickle.dump(records,fobj)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cost</span>(<span class="params">fname</span>):</span></span><br><span class="line">     amount = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;金额:&#x27;</span>))</span><br><span class="line">     comment = <span class="built_in">input</span>(<span class="string">&#x27;备注:&#x27;</span>)</span><br><span class="line">     date = strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">         records = pickle.load(fobj)</span><br><span class="line">     balance = records[-<span class="number">1</span>][-<span class="number">2</span>] - amount</span><br><span class="line">     records.append([date, <span class="number">0</span>, amount, balance, comment])</span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">         pickle.dump(records, fobj)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">query</span>(<span class="params">fname</span>):</span></span><br><span class="line">     <span class="keyword">with</span> <span class="built_in">open</span>(fname,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">         records = pickle.load(fobj)</span><br><span class="line">     print(<span class="string">&#x27;%-12s%-8s%-8s%-10s%-20s&#x27;</span> % (<span class="string">&#x27;date&#x27;</span>,<span class="string">&#x27;save&#x27;</span>,<span class="string">&#x27;cost&#x27;</span>,<span class="string">&#x27;balance&#x27;</span>,<span class="string">&#x27;comment&#x27;</span>))</span><br><span class="line">     <span class="keyword">for</span> record <span class="keyword">in</span> records:</span><br><span class="line">         print(<span class="string">&#x27;%-12s%-8s%-8s%-10s%-20s&#x27;</span> % <span class="built_in">tuple</span>(record))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line">     fname = <span class="string">&#x27;account.data</span></span><br><span class="line"><span class="string">     init_data = [[strftime(&#x27;</span>%Y-%m-%d<span class="string">&#x27;),0,0,10000,&#x27;</span>init<span class="string">&#x27;]]</span></span><br><span class="line"><span class="string">     if not os.path.exists(fname):</span></span><br><span class="line"><span class="string">         with open(fname,&#x27;</span>w<span class="string">b&#x27;) as fobj:</span></span><br><span class="line"><span class="string">             pickle.dump(init_data,fobj)</span></span><br><span class="line"><span class="string"> cmds = &#123;</span></span><br><span class="line"><span class="string">    &#x27;</span><span class="number">0</span><span class="string">&#x27;:save,&#x27;</span><span class="number">1</span><span class="string">&#x27;:cost,&#x27;</span><span class="number">2</span><span class="string">&#x27;:query&#125;</span></span><br><span class="line"><span class="string"> prompt = &#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line"> (<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> while True:</span></span><br><span class="line"><span class="string">     choice = input(prompt).strip()</span></span><br><span class="line"><span class="string">     if choice not in [&#x27;0&#x27;,&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;]:</span></span><br><span class="line"><span class="string">         print(&#x27;无效输入,请重试!&#x27;)</span></span><br><span class="line"><span class="string">         continue</span></span><br><span class="line"><span class="string">     if choice == &#x27;3&#x27;:</span></span><br><span class="line"><span class="string">         print(&#x27;\nBye-bye&#x27;)</span></span><br><span class="line"><span class="string">         break</span></span><br><span class="line"><span class="string">     cmds[choice](fname)</span></span><br><span class="line"><span class="string">if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="string">     show_menu()</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">验证:</span><br><span class="line">$ python <span class="number">2</span>-<span class="number">1.</span>py</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">2</span></span><br><span class="line">date save cost balance comment </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> init</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">0</span></span><br><span class="line">金额:<span class="number">10000</span></span><br><span class="line">备注:gongzi</span><br><span class="line"> (<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">2</span></span><br><span class="line">date save cost balance comment </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> init </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">10000</span> <span class="number">0</span> <span class="number">20000</span> gongzi</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line">(<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">1</span></span><br><span class="line">金额:<span class="number">100</span></span><br><span class="line">备注:qixi</span><br><span class="line">(<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">2</span></span><br><span class="line">date save cost balance comment </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> init </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">10000</span> <span class="number">0</span> <span class="number">20000</span> gongzi </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">100</span> <span class="number">19900</span> qixi</span><br><span class="line"> (<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">2</span></span><br><span class="line">date save cost balance comment </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">0</span> <span class="number">10000</span> init </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">10000</span> <span class="number">0</span> <span class="number">20000</span> gongzi </span><br><span class="line"><span class="number">2019</span>-08-07 <span class="number">0</span> <span class="number">100</span> <span class="number">19900</span> qixi</span><br><span class="line"> (<span class="number">0</span>) 收入</span><br><span class="line"> (<span class="number">1</span>) 支出</span><br><span class="line"> (<span class="number">2</span>) 查询</span><br><span class="line"> (<span class="number">3</span>) 退出</span><br><span class="line"> 请选择(<span class="number">0</span>/<span class="number">1</span>/<span class="number">2</span>/<span class="number">3</span>):<span class="number">3</span></span><br><span class="line">Bye-bye</span><br></pre></td></tr></table></figure>

<h2 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h2><ul>
<li>函数声明的顺序不重要，重要的是什么时候调用</li>
<li>函数的参数，只写成单一的名称，叫作位置参数；如果写成key=val形式，称作关键字参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义函数时，默认值参数必须在非默认值参数后面，否则将出现语法错误</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">name=<span class="string">&#x27;bob&#x27;</span>, age</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">pass</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: non-default argument follows default argument</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">name, age=<span class="number">20</span></span>):</span>   <span class="comment"># 正确</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">pass</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">age,name=<span class="string">&#x27;bob&#x27;</span></span>):</span>       <span class="comment">#正确,意思就是定义函数时有默认参数的要放在后边.</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">age=<span class="number">20</span>,name</span>):</span>       <span class="comment">#报错,应该放在后面.</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: non-default argument follows default argument</span><br></pre></td></tr></table></figure>

<ul>
<li>传递参数也有相应的约定</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">name, age</span>):</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">&#x27;%s is %s years old&#x27;</span> % (name, age))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="string">&#x27;tom&#x27;</span>, <span class="number">20</span>)   <span class="comment"># 正确-</span></span><br><span class="line">tom <span class="keyword">is</span> <span class="number">20</span> years old</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="number">20</span>, <span class="string">&#x27;tom&#x27;</span>)   <span class="comment"># 语法正确，但是语义不正确</span></span><br><span class="line"><span class="number">20</span> <span class="keyword">is</span> tom years old</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(age=<span class="number">20</span>, name=<span class="string">&#x27;tom&#x27;</span>)  <span class="comment"># 正确-</span></span><br><span class="line">tom <span class="keyword">is</span> <span class="number">20</span> years old</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(age=<span class="number">20</span>, <span class="string">&#x27;tom&#x27;</span>)   <span class="comment"># 语法错误</span></span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: positional argument follows keyword argument</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="number">20</span>, name=<span class="string">&#x27;tom&#x27;</span>)   <span class="comment"># 错误，name得到了多个值</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: func1() got multiple values <span class="keyword">for</span> argument <span class="string">&#x27;name&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="string">&#x27;tom&#x27;</span>, age=<span class="number">20</span>)  <span class="comment"># 正确-</span></span><br><span class="line">tom <span class="keyword">is</span> <span class="number">20</span> years old</span><br></pre></td></tr></table></figure>

<ul>
<li>参数组，当函数的参数不确定时可以使有参数组接收参数<ul>
<li>*参数，表示使用元组接收参数</li>
<li>**参数，表示使用字典接收参数</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">*args</span>):</span></span><br><span class="line"><span class="meta">... </span>  print(args)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1()</span><br><span class="line">()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="string">&#x27;hao&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;hao&#x27;</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="string">&#x27;hao&#x27;</span>, <span class="number">123</span>, <span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;hao&#x27;</span>, <span class="number">123</span>, <span class="string">&#x27;tom&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func2</span>(<span class="params">**kwargs</span>):</span></span><br><span class="line"><span class="meta">... </span>  print(kwargs)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func2()</span><br><span class="line">&#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func2(<span class="number">10</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: func2() takes <span class="number">0</span> positional arguments but <span class="number">1</span> was given</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func2(name=<span class="string">&#x27;tom&#x27;</span>, age=<span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func3</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line"><span class="meta">... </span>  print(args)</span><br><span class="line"><span class="meta">... </span>  print(kwargs)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func3()</span><br><span class="line">()</span><br><span class="line">&#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func3(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, name=<span class="string">&#x27;tom&#x27;</span>, age=<span class="number">20</span>)</span><br><span class="line">(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>传参的时候也可以加*号，表示把序列或字典拆开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 表示拆分序列</span><br><span class="line">** 表示拆分字典</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> a + b</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(nums)   <span class="comment"># 因为nums只是一个参数,nums传递给a，b没有得到值</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: add() missing <span class="number">1</span> required positional argument: <span class="string">&#x27;b&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(*nums)       <span class="comment">#将nums拆开,分别将值传递给a和b</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mydict = &#123;</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">200</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(**mydict)  <span class="comment"># **表示拆开字典,相当于add(a=100, b=200)</span></span><br><span class="line"><span class="number">300</span></span><br></pre></td></tr></table></figure>

<p>练习：简单的加减法数学游戏</p>
<ol>
<li>随机生成两个100以内的数字</li>
<li>随机选择加法或是减法</li>
<li>总是使用大的数字减去小的数字</li>
<li>如果用户答错三次,程序给出正确答案<ul>
<li>思考程序运行方式:</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> + <span class="number">5</span> = <span class="number">10</span></span><br><span class="line">Very Good!!!</span><br><span class="line">Continue(y/n)? y</span><br><span class="line"><span class="number">42</span> + <span class="number">26</span> = <span class="number">50</span></span><br><span class="line">Wrong Answer!!!</span><br><span class="line"><span class="number">42</span> + <span class="number">26</span> = <span class="number">55</span></span><br><span class="line">Wrong Answer!!!</span><br><span class="line"><span class="number">42</span> + <span class="number">26</span> = <span class="number">60</span></span><br><span class="line">Wrong Answer!!!</span><br><span class="line"><span class="number">42</span> + <span class="number">26</span> = <span class="number">68</span></span><br><span class="line">Continue(y/n)? n</span><br><span class="line">Bye-bye</span><br></pre></td></tr></table></figure>

<ul>
<li>编写程序:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">第一种方法:</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint, choice</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">exam</span>():</span></span><br><span class="line">    nums = [randint(<span class="number">1</span>, <span class="number">100</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">    nums.sort(reverse=<span class="literal">True</span>)  <span class="comment"># 降序排列</span></span><br><span class="line">    op = choice(<span class="string">&#x27;+-&#x27;</span>)   <span class="comment"># 随机选择加减号</span></span><br><span class="line">    <span class="comment"># 计算出正确答案</span></span><br><span class="line">    <span class="keyword">if</span> op == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">        result = nums[<span class="number">0</span>] + nums[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = nums[<span class="number">0</span>] - nums[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># 让用户做答，判断对错</span></span><br><span class="line">    prompt = <span class="string">&#x27;%s %s %s = &#x27;</span> % (nums[<span class="number">0</span>], op, nums[<span class="number">1</span>])</span><br><span class="line">    counter = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> counter &lt; <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            answer = <span class="built_in">int</span>(<span class="built_in">input</span>(prompt))</span><br><span class="line">        <span class="keyword">except</span>:    <span class="comment"># 不指定异常可以捕获所有异常，但是不推荐</span></span><br><span class="line">            print()</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> answer == result:</span><br><span class="line">            print(<span class="string">&#x27;非常棒!!!&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        print(<span class="string">&#x27;不对哟!!!&#x27;</span>)</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;%s%s&#x27;</span> % (prompt, result))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;该函数先出题，然后询问用户是否继续&quot;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        exam()</span><br><span class="line">        <span class="comment"># 去除字符串两端空白字符后，取出第一个字符</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            yn = <span class="built_in">input</span>(<span class="string">&#x27;Continue(y/n)? &#x27;</span>).strip()[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            yn = <span class="string">&#x27;y&#x27;</span></span><br><span class="line">        <span class="keyword">except</span> (KeyboardInterrupt, EOFError):</span><br><span class="line">            yn = <span class="string">&#x27;n&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> yn <span class="keyword">in</span> <span class="string">&#x27;nN&#x27;</span>:</span><br><span class="line">            print(<span class="string">&#x27;\nBye-bye&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">第二种方法:</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint, choice</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sub</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x - y</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">exam</span>():</span></span><br><span class="line">    cmds =&#123;</span><br><span class="line">    <span class="string">&#x27;+&#x27;</span>: add, <span class="string">&#x27;-&#x27;</span>: sub&#125;</span><br><span class="line">    nums = [randint(<span class="number">1</span>, <span class="number">100</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">    nums.sort(reverse=<span class="literal">True</span>)  <span class="comment"># 降序排列</span></span><br><span class="line">    op = choice(<span class="string">&#x27;+-&#x27;</span>)   <span class="comment"># 随机选择加减号</span></span><br><span class="line">    <span class="comment"># 计算出正确答案</span></span><br><span class="line">    result = cmds[op](*nums)</span><br><span class="line">    <span class="comment"># 让用户做答，判断对错</span></span><br><span class="line">    prompt = <span class="string">&#x27;%s %s %s = &#x27;</span> % (nums[<span class="number">0</span>], op, nums[<span class="number">1</span>])</span><br><span class="line">    counter = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> counter &lt; <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            answer = <span class="built_in">int</span>(<span class="built_in">input</span>(prompt))</span><br><span class="line">        <span class="keyword">except</span>:    <span class="comment"># 不指定异常可以捕获所有异常，但是不推荐</span></span><br><span class="line">            print()</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> answer == result:</span><br><span class="line">            print(<span class="string">&#x27;非常棒!!!&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        print(<span class="string">&#x27;不对哟!!!&#x27;</span>)</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;%s%s&#x27;</span> % (prompt, result))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;该函数先出题，然后询问用户是否继续&quot;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        exam()</span><br><span class="line">        <span class="comment"># 去除字符串两端空白字符后，取出第一个字符</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            yn = <span class="built_in">input</span>(<span class="string">&#x27;Continue(y/n)? &#x27;</span>).strip()[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            yn = <span class="string">&#x27;y&#x27;</span></span><br><span class="line">        <span class="keyword">except</span> (KeyboardInterrupt, EOFError):</span><br><span class="line">            yn = <span class="string">&#x27;n&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> yn <span class="keyword">in</span> <span class="string">&#x27;nN&#x27;</span>:</span><br><span class="line">            print(<span class="string">&#x27;\nBye-bye&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">测试:</span><br><span class="line">$ python <span class="number">2.</span>py</span><br><span class="line"><span class="number">26</span> + <span class="number">9</span> = <span class="number">2</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">26</span> + <span class="number">9</span> = <span class="number">2</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">26</span> + <span class="number">9</span> = <span class="number">2</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">26</span> + <span class="number">9</span> = <span class="number">35</span></span><br><span class="line">Continue(y/n)? y</span><br><span class="line"><span class="number">52</span> - <span class="number">3</span> = <span class="number">49</span></span><br><span class="line">非常棒!!!</span><br><span class="line">Continue(y/n)?  skhdk     #随便输入都可以继续,只要不是nN,因为我们编写了异常处理try语句</span><br><span class="line"><span class="number">84</span> + <span class="number">79</span> = <span class="number">22</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">84</span> + <span class="number">79</span> = <span class="number">55</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">84</span> + <span class="number">79</span> = <span class="number">55</span></span><br><span class="line">不对哟!!!</span><br><span class="line"><span class="number">84</span> + <span class="number">79</span> = <span class="number">163</span></span><br><span class="line">Continue(y/n)? n</span><br><span class="line">Bye-bye</span><br></pre></td></tr></table></figure>



<h3 id="匿名函数：没有名字的函数。"><a href="#匿名函数：没有名字的函数。" class="headerlink" title="匿名函数：没有名字的函数。"></a>匿名函数：没有名字的函数。</h3><ul>
<li>代码只有一行</li>
<li>能过lambda关键字定义</li>
<li>参数直接写到lambda后面</li>
<li>表达式的计算结果是返回值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">x</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> x + <span class="number">10</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1(<span class="number">2</span>)</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add10 = <span class="keyword">lambda</span> x: x + <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add10(<span class="number">2</span>)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<h3 id="filter函数"><a href="#filter函数" class="headerlink" title="filter函数"></a>filter函数</h3><ul>
<li>用于过滤数据</li>
<li>它接受两个参数<ul>
<li>第一个参数是函数，返回值必须是True或False</li>
<li>第二个参数是序列对象</li>
</ul>
</li>
<li>序列对象中的每一个元素传递给函数，结果为True的保留</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [randint(<span class="number">1</span>, <span class="number">100</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums</span><br><span class="line">[<span class="number">93</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">70</span>, <span class="number">16</span>, <span class="number">23</span>, <span class="number">89</span>, <span class="number">17</span>, <span class="number">47</span>, <span class="number">91</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">x</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> <span class="literal">True</span> <span class="keyword">if</span> x &gt; <span class="number">50</span> <span class="keyword">else</span> <span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">filter</span>(func1, nums))</span><br><span class="line">[<span class="number">93</span>, <span class="number">70</span>, <span class="number">89</span>, <span class="number">91</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: <span class="literal">True</span> <span class="keyword">if</span> x &gt; <span class="number">50</span> <span class="keyword">else</span> <span class="literal">False</span>, nums))</span><br><span class="line">[<span class="number">93</span>, <span class="number">70</span>, <span class="number">89</span>, <span class="number">91</span>]</span><br><span class="line">​```</span><br><span class="line"><span class="comment">### map函数</span></span><br><span class="line">- 用于加工数据</span><br><span class="line">- 接受两个参数</span><br><span class="line">  - 第一个参数是函数，用于加工数据</span><br><span class="line">  - 第二个参数是序列，序列中的每个对象作为前面函数的参数</span><br><span class="line">- 将序列中的每个数据作为函数的参数，加工后返回</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func2</span>(<span class="params">x</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">map</span>(func2, nums))</span><br><span class="line">[<span class="number">186</span>, <span class="number">4</span>, <span class="number">22</span>, <span class="number">140</span>, <span class="number">32</span>, <span class="number">46</span>, <span class="number">178</span>, <span class="number">34</span>, <span class="number">94</span>, <span class="number">182</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x * <span class="number">2</span>, nums))</span><br><span class="line">[<span class="number">186</span>, <span class="number">4</span>, <span class="number">22</span>, <span class="number">140</span>, <span class="number">32</span>, <span class="number">46</span>, <span class="number">178</span>, <span class="number">34</span>, <span class="number">94</span>, <span class="number">182</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x * <span class="number">5</span>,nums))</span><br><span class="line">[<span class="number">265</span>, <span class="number">210</span>, <span class="number">95</span>, <span class="number">90</span>, <span class="number">170</span>, <span class="number">120</span>, <span class="number">455</span>, <span class="number">85</span>, <span class="number">220</span>, <span class="number">275</span>]</span><br></pre></td></tr></table></figure>

<h3 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h3><ol>
<li>定义在函数外面的是全局变量，全局变量从定义开始到程序结束，一直可见可用</li>
<li>函数内部定义的变量是局部变量，只在函数内部可见可用</li>
<li>如果局部和全局有同名变量，优先使用局部，局部变量遮盖住全局变量</li>
<li>如果需要在局部改变全局变量，使有global关键字</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.定义在函数外面的是全局变量，全局变量从定义开始到程序结束，一直可见可用</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line"><span class="meta">... </span>  print(x)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func1()</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="comment"># 2.函数内部定义的变量是局部变量，只在函数内部可见可用</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line"><span class="meta">... </span>  y = <span class="number">10</span></span><br><span class="line"><span class="meta">... </span>  print(y)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func2()</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(y)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;y&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="comment"># 3.如果局部和全局有同名变量，优先使用局部，局部变量遮盖住全局变量</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func3</span>():</span></span><br><span class="line"><span class="meta">... </span>  x = <span class="number">100</span></span><br><span class="line"><span class="meta">... </span>  print(x)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func3()</span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(x)</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="comment"># 4.如果需要在局部改变全局变量，使有global关键字</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func4</span>():</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">global</span> x</span><br><span class="line"><span class="meta">... </span>  x = <span class="number">1000</span></span><br><span class="line"><span class="meta">... </span>  print(x)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func4()</span><br><span class="line"><span class="number">1000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(x)</span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure>

<h2 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h2><p>改造现有函数，将其一些参数固定下来，生成新的函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b, c, d, e</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> a + b + c + d + e</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">5</span>)</span><br><span class="line"><span class="number">105</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">22</span>)</span><br><span class="line"><span class="number">122</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myadd = partial(add, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myadd(<span class="number">10</span>)</span><br><span class="line"><span class="number">110</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>myadd(<span class="number">5</span>)</span><br><span class="line"><span class="number">105</span></span><br><span class="line"><span class="comment"># int接受base指定字符串的进制</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="string">&#x27;11111111&#x27;</span>, base=<span class="number">2</span>)</span><br><span class="line"><span class="number">255</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2 = partial(<span class="built_in">int</span>, base=<span class="number">2</span>)  <span class="comment"># 改造int函数，将2进制转10进制</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2(<span class="string">&#x27;11111111&#x27;</span>)</span><br><span class="line"><span class="number">255</span></span><br></pre></td></tr></table></figure>

<h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><ul>
<li>函数自己又调用自己</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>!=5x4x3x2x1</span><br><span class="line"><span class="number">5</span>!=5x4!</span><br><span class="line"><span class="number">5</span>!=5x4x3!</span><br><span class="line"><span class="number">5</span>!=5x4x3x2!</span><br><span class="line"><span class="number">5</span>!=5x4x3x2x1!</span><br><span class="line"><span class="number">1</span>!=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">if</span> x == <span class="number">1</span>:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> x * func(x - <span class="number">1</span>)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">5</span>)</span><br><span class="line"><span class="number">120</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>func(<span class="number">6</span>)</span><br><span class="line"><span class="number">720</span></span><br></pre></td></tr></table></figure>



<p>快速排序</p>
<ul>
<li>假设第一个数是中间值。 middle = nums[0]</li>
<li>比middle大的都放到larger列表中</li>
<li>比middle小的都放到smaller列表中</li>
<li>将三者拼接：smaller + [middle] + larger</li>
<li>使用相同的方法继续对smaller和larger排序</li>
<li>当列表只有一项或是空的，就不用再排了</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">qsort</span>(<span class="params">seq</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(seq) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> seq</span><br><span class="line">    middle = seq[<span class="number">0</span>]</span><br><span class="line">    smaller = []</span><br><span class="line">    larger = []</span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> seq[<span class="number">1</span>:]:</span><br><span class="line">        <span class="keyword">if</span> data &gt;= middle:</span><br><span class="line">            larger.append(data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            smaller.append(data)</span><br><span class="line">    <span class="keyword">return</span> qsort(smaller) + [middle] + qsort(larger)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    nums = [randint(<span class="number">1</span>,<span class="number">100</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">    print(nums)</span><br><span class="line">    print(qsort(nums))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="number">2.</span>py </span><br><span class="line">[<span class="number">31</span>, <span class="number">59</span>, <span class="number">24</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">96</span>, <span class="number">38</span>, <span class="number">67</span>]     <span class="comment">#输出的nums的值</span></span><br><span class="line">[<span class="number">19</span>, <span class="number">20</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">38</span>, <span class="number">59</span>, <span class="number">67</span>, <span class="number">96</span>]      <span class="comment">#输出的qsort(nums)排序后的值</span></span><br></pre></td></tr></table></figure>



<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><ul>
<li>潜在可以提供很多数据</li>
<li>不会立即生成全部数据，所以节省内存空间</li>
<li>可以通过生成器表达式实现</li>
<li>也可以通过函数实现</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成器表达式与列表解析的语法一样，只是使用()</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ips = (<span class="string">&#x27;192.168.1.%s&#x27;</span> % i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">255</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ip <span class="keyword">in</span> ips:</span><br><span class="line"><span class="meta">... </span>  print(ip)</span><br><span class="line"><span class="comment"># 使用函数，通过yield多次返回中间值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">mygen</span>():</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">yield</span> <span class="number">100</span></span><br><span class="line"><span class="meta">... </span>  n = <span class="number">10</span> + <span class="number">20</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">yield</span> n</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">yield</span> <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mg = mygen()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> mg:</span><br><span class="line"><span class="meta">... </span>  print(i)</span><br><span class="line">...</span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<h2 id="模块-1"><a href="#模块-1" class="headerlink" title="模块"></a>模块</h2><ul>
<li>模块就是把一个python文件名去掉.py后的部分</li>
<li>导入模块时，python在sys.path定义的路径中搜索模块</li>
</ul>
<h3 id="hashlib模块"><a href="#hashlib模块" class="headerlink" title="hashlib模块"></a>hashlib模块</h3><p>用于计算哈希值。哈希值如md5 / sha等，常用于加密密码和文件完整性校验。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m = hashlib.md5(<span class="string">b&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m.hexdigest()</span><br><span class="line"><span class="string">&#x27;e10adc3949ba59abbe56e057f20f883e&#x27;</span></span><br><span class="line"><span class="comment"># 如果数据量太大，可以创建md5对象后，每次更新一部分</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1 = hashlib.md5()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;12&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;34&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;56&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.hexdigest()</span><br><span class="line"><span class="string">&#x27;e10adc3949ba59abbe56e057f20f883e&#x27;</span></span><br><span class="line"><span class="comment"># 如果数据量太大，可以创建md5对象后，每次更新一部分</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1 = hashlib.md5()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;12&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;34&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.update(<span class="string">b&#x27;56&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.hexdigest()</span><br><span class="line"><span class="string">&#x27;e10adc3949ba59abbe56e057f20f883e&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/bin/ls&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line"><span class="meta">... </span>  data = fobj.read()</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m = hashlib.md5(data)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m.hexdigest()</span><br><span class="line"><span class="string">&#x27;038a0a2d35a503d299a46096f6ff9890&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="练习：编写checkmd5-py-生成md5校验码-验证两个文件内容是否一致"><a href="#练习：编写checkmd5-py-生成md5校验码-验证两个文件内容是否一致" class="headerlink" title="练习：编写checkmd5.py(生成md5校验码,验证两个文件内容是否一致.)"></a>练习：编写checkmd5.py(生成md5校验码,验证两个文件内容是否一致.)</h5><ol>
<li>通过命令行的位置参数给定文件名</li>
<li>计算出文件的md5值，打印到屏幕上</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_md5</span>(<span class="params">fname</span>):</span></span><br><span class="line">    m = hashlib.md5()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(fname,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data = fobj.read(<span class="number">4096</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            m.update(data)</span><br><span class="line">        <span class="keyword">return</span> m.hexdigest()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    print(check_md5(sys.argv[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>

<h3 id="tarfile模块"><a href="#tarfile模块" class="headerlink" title="tarfile模块"></a>tarfile模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> tarfile</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar = tarfile.<span class="built_in">open</span>(<span class="string">&#x27;/tmp/mytar.tar.gz&#x27;</span>, <span class="string">&#x27;w:gz&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar.add(<span class="string">&#x27;/etc/hosts&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar.add(<span class="string">&#x27;/etc/security&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar.close()</span><br><span class="line"><span class="comment"># 解压缩到/tmp/demo</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar = tarfile.<span class="built_in">open</span>(<span class="string">&#x27;/tmp/mytar.tar.gz&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar.extractall(path=<span class="string">&#x27;/tmp/demo/&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tar.close()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="number">2.</span>py</span><br><span class="line">$ ls /luo/</span><br><span class="line">demo    mytar.tar.gz  </span><br><span class="line">$ ll /luo/</span><br><span class="line">drwxrwxr-x  <span class="number">3</span> student student <span class="number">4096</span> <span class="number">8</span>月   <span class="number">8</span> <span class="number">17</span>:<span class="number">43</span> demo</span><br><span class="line">-rw-rw-r--  <span class="number">1</span> student student  <span class="number">288</span> <span class="number">8</span>月   <span class="number">8</span> <span class="number">17</span>:<span class="number">43</span> mytar.tar.gz</span><br></pre></td></tr></table></figure>



<p>练习: 备份程序</p>
<p>1.需要支持完全和增量备份</p>
<p>2.周一执行完全备份</p>
<p>3.其他时间执行增量备份</p>
<p>4.备份文件需要打包为tar文件并使用gzip格式压缩</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> tarfile</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> strftime</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_md5</span>(<span class="params">fname</span>):</span></span><br><span class="line">    m = hashlib.md5()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data = fobj.read(<span class="number">4096</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            m.update(data)</span><br><span class="line">    <span class="keyword">return</span> m.hexdigest()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">full_backup</span>(<span class="params">src, dst, md5file</span>):</span></span><br><span class="line">    <span class="string">&quot;完全备份需要打包目录和计算每个文件的md5值&quot;</span></span><br><span class="line">    <span class="comment"># 备份的tar文件要有备份目录名、备份类型、时间</span></span><br><span class="line">    fname = <span class="string">&#x27;%s_full_%s.tar.gz&#x27;</span> % (os.path.basename(src), strftime(<span class="string">&#x27;%Y%m%d&#x27;</span>))</span><br><span class="line">    fname = os.path.join(dst, fname)</span><br><span class="line">    <span class="comment"># 将源目录打包</span></span><br><span class="line">    tar = tarfile.<span class="built_in">open</span>(fname, <span class="string">&#x27;w:gz&#x27;</span>)</span><br><span class="line">    tar.add(src)</span><br><span class="line">    tar.close()</span><br><span class="line">    <span class="comment"># 计算每个文件的md5值，将其存入字典</span></span><br><span class="line">    md5dict = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> path, folders, files <span class="keyword">in</span> os.walk(src):</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            key = os.path.join(path, file)</span><br><span class="line">            md5dict[key] = check_md5(key)</span><br><span class="line">    <span class="comment"># 通过pickle永久地把字典存到文件中</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(md5file, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        pickle.dump(md5dict, fobj)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">incr_backup</span>(<span class="params">src, dst, md5file</span>):</span></span><br><span class="line">    <span class="string">&quot;增量备份把新增文件和改动的文件打包；更新md5文件以便于后续比较&quot;</span></span><br><span class="line">    <span class="comment"># 备份的tar文件要有备份目录名、备份类型、时间</span></span><br><span class="line">    fname = <span class="string">&#x27;%s_incr_%s.tar.gz&#x27;</span> % (os.path.basename(src), strftime(<span class="string">&#x27;%Y%m%d&#x27;</span>))</span><br><span class="line">    fname = os.path.join(dst, fname)</span><br><span class="line">    <span class="comment"># 计算每个文件的md5值，将其存入字典</span></span><br><span class="line">    md5dict = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> path, folders, files <span class="keyword">in</span> os.walk(src):</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            key = os.path.join(path, file)</span><br><span class="line">            md5dict[key] = check_md5(key)</span><br><span class="line">    <span class="comment"># 取出前一天的md5值</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(md5file, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        old_md5 = pickle.load(fobj)</span><br><span class="line">    <span class="comment"># 将新增文件和有改动文件进行打包</span></span><br><span class="line">    tar = tarfile.<span class="built_in">open</span>(fname, <span class="string">&#x27;w:gz&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> md5dict:</span><br><span class="line">        <span class="keyword">if</span> old_md5.get(key) != md5dict[key]:</span><br><span class="line">            tar.add(key)</span><br><span class="line">    tar.close()</span><br><span class="line">    <span class="comment"># 更新md5字典文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(md5file, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fobj:</span><br><span class="line">        pickle.dump(md5dict, fobj)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    src = <span class="string">&#x27;/tmp/demo/security&#x27;</span></span><br><span class="line">    dst = <span class="string">&#x27;/tmp/backup&#x27;</span></span><br><span class="line">    md5file = <span class="string">&#x27;/tmp/backup/md5.data&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(dst):</span><br><span class="line">        os.mkdir(dst)</span><br><span class="line">    <span class="keyword">if</span> strftime(<span class="string">&#x27;%a&#x27;</span>) == <span class="string">&#x27;Mon&#x27;</span>:</span><br><span class="line">        full_backup(src, dst, md5file)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        incr_backup(src, dst, md5file)</span><br></pre></td></tr></table></figure>

<h3 id="os-walk"><a href="#os-walk" class="headerlink" title="os.walk()"></a>os.walk()</h3><ul>
<li>它可以递归列出某个目录下的所有内容</li>
<li>返回值由多个元组构成<ul>
<li>(‘路径字符串’, [路径下目录列表], [路径下文件列表])</li>
</ul>
</li>
<li>将路径字符串与文件拼接就可以得到文件的路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(os.walk(<span class="string">&#x27;/etc/security&#x27;</span>))</span><br><span class="line">[(<span class="string">&#x27;/etc/security&#x27;</span>, [<span class="string">&#x27;console.apps&#x27;</span>, <span class="string">&#x27;console.perms.d&#x27;</span>, <span class="string">&#x27;limits.d&#x27;</span>, <span class="string">&#x27;namespace.d&#x27;</span>], [<span class="string">&#x27;access.conf&#x27;</span>, <span class="string">&#x27;chroot.conf&#x27;</span>, <span class="string">&#x27;console.handlers&#x27;</span>, <span class="string">&#x27;console.perms&#x27;</span>, <span class="string">&#x27;group.conf&#x27;</span>, <span class="string">&#x27;limits.conf&#x27;</span>, <span class="string">&#x27;namespace.conf&#x27;</span>, <span class="string">&#x27;namespace.init&#x27;</span>, <span class="string">&#x27;opasswd&#x27;</span>, <span class="string">&#x27;pam_env.conf&#x27;</span>, <span class="string">&#x27;sepermit.conf&#x27;</span>, <span class="string">&#x27;time.conf&#x27;</span>, <span class="string">&#x27;pwquality.conf&#x27;</span>]), (<span class="string">&#x27;/etc/security/console.apps&#x27;</span>, [], [<span class="string">&#x27;config-util&#x27;</span>, <span class="string">&#x27;xserver&#x27;</span>, <span class="string">&#x27;liveinst&#x27;</span>, <span class="string">&#x27;setup&#x27;</span>]), (<span class="string">&#x27;/etc/security/console.perms.d&#x27;</span>, [], []), (<span class="string">&#x27;/etc/security/limits.d&#x27;</span>, [], [<span class="string">&#x27;20-nproc.conf&#x27;</span>]), (<span class="string">&#x27;/etc/security/namespace.d&#x27;</span>, [], [])]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = <span class="built_in">list</span>(os.walk(<span class="string">&#x27;/etc/security&#x27;</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(result)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result[<span class="number">0</span>]</span><br><span class="line">(<span class="string">&#x27;/etc/security&#x27;</span>, [<span class="string">&#x27;console.apps&#x27;</span>, <span class="string">&#x27;console.perms.d&#x27;</span>, <span class="string">&#x27;limits.d&#x27;</span>, <span class="string">&#x27;namespace.d&#x27;</span>], [<span class="string">&#x27;access.conf&#x27;</span>, <span class="string">&#x27;chroot.conf&#x27;</span>, <span class="string">&#x27;console.handlers&#x27;</span>, <span class="string">&#x27;console.perms&#x27;</span>, <span class="string">&#x27;group.conf&#x27;</span>, <span class="string">&#x27;limits.conf&#x27;</span>, <span class="string">&#x27;namespace.conf&#x27;</span>, <span class="string">&#x27;namespace.init&#x27;</span>, <span class="string">&#x27;opasswd&#x27;</span>, <span class="string">&#x27;pam_env.conf&#x27;</span>, <span class="string">&#x27;sepermit.conf&#x27;</span>, <span class="string">&#x27;time.conf&#x27;</span>, <span class="string">&#x27;pwquality.conf&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result[<span class="number">1</span>]</span><br><span class="line">(<span class="string">&#x27;/etc/security/console.apps&#x27;</span>, [], [<span class="string">&#x27;config-util&#x27;</span>, <span class="string">&#x27;xserver&#x27;</span>, <span class="string">&#x27;liveinst&#x27;</span>, <span class="string">&#x27;setup&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result[<span class="number">2</span>]</span><br><span class="line">(<span class="string">&#x27;/etc/security/console.perms.d&#x27;</span>, [], [])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> path, folers, files <span class="keyword">in</span> os.walk(<span class="string">&#x27;/etc/security&#x27;</span>):</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line"><span class="meta">... </span>    os.path.join(path, file)</span><br></pre></td></tr></table></figure>

<h2 id="OOP：面向对象的编程"><a href="#OOP：面向对象的编程" class="headerlink" title="OOP：面向对象的编程"></a>OOP：面向对象的编程</h2><ul>
<li>在python中，一切皆对象</li>
<li>对象有属性：数据属性（变量），函数属性（方法）</li>
<li>OOP编程时，需要把某些事物找出它们的共性，抽象成一个类class</li>
<li>在具体应用时，再根据类创建实例</li>
<li>类名建议使用驼峰的形式，如MyClass</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameRole</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, nm, wp</span>):</span></span><br><span class="line">        self.name = nm</span><br><span class="line">        self.weapon = wp</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    lb = GameRole(<span class="string">&#x27;吕布&#x27;</span>, <span class="string">&#x27;方天画戟&#x27;</span>)  <span class="comment"># 创建名为lb的实例</span></span><br><span class="line">    print(lb.name, lb.weapon)</span><br></pre></td></tr></table></figure>

<ul>
<li>__init__是类中的特殊方法，称作构造器方法，它在创建实例的时候自动调用</li>
<li>方法的第一个参数self，表示实例，不是关键字，可以是任意的合法名称</li>
<li>方法中的变量名，就是函数的局部变量，只在该方法中可用</li>
<li>绑定到实例上的变量，是实例的属性，可以在类中任意位置应用</li>
</ul>
<h3 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h3><ul>
<li>两个类明显不同</li>
<li>一个类是另一个类的组件</li>
</ul>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li>两个类有很多相同</li>
<li>一个类是另一个类的子类</li>
<li>子类继承父类的属性</li>
<li>父子拥有同名方法，子类优先级高</li>
<li>子类可以有多个父类，继承所有父类的方法</li>
<li>执行方法时，查找的顺序是自下向上，自左向右</li>
</ul>
<h3 id="特殊方法"><a href="#特殊方法" class="headerlink" title="特殊方法"></a>特殊方法</h3><p>类中有一些以双下划线开头和结尾的特殊方法，也称作magic魔法方法。</p>
<h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><p><a target="_blank" rel="noopener" href="https://jex.im/regulex">https://jex.im/regulex</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将mac地址加上冒号</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span>     000C29123456</span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.2</span>     525400A31B2C</span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.3</span>     0002231A08D3</span><br><span class="line"><span class="comment"># 思路：找到mac地址、每两个数分一组、组之间加冒号</span></span><br><span class="line">:%s/\(..\)\(..\)\(..\)\(..\)\(..\)\(..\)$/\<span class="number">1</span>:\<span class="number">2</span>:\<span class="number">3</span>:\<span class="number">4</span>:\<span class="number">5</span>:\<span class="number">6</span>/</span><br></pre></td></tr></table></figure>

<p>re模块常用方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><br><span class="line"><span class="comment"># match匹配到，返回匹配对象，否则返回None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.match(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;food&#x27;</span>)</span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">3</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(re.match(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood&#x27;</span>))</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="comment"># search在字符串中匹配</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.search(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;food&#x27;</span>)</span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">3</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.search(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">3</span>, <span class="number">6</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m = re.search(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m.group()  <span class="comment"># 匹配对象的group方法返回匹配到的字符串</span></span><br><span class="line"><span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="comment"># findall可以匹配到所有的内容</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.findall(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood is food&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>]</span><br><span class="line"><span class="comment"># finditer返回匹配对象的迭代器</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(re.finditer(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood is food&#x27;</span>))</span><br><span class="line">[&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">3</span>, <span class="number">6</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;, &lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">11</span>, <span class="number">14</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> m <span class="keyword">in</span> re.finditer(<span class="string">&#x27;f..&#x27;</span>, <span class="string">&#x27;seafood is food&#x27;</span>):</span><br><span class="line"><span class="meta">... </span>  m.group()</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="comment"># split用于切割</span></span><br><span class="line"><span class="comment"># 以.或-作为分隔符</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.split(<span class="string">&#x27;\.|-&#x27;</span>, <span class="string">&#x27;how-are-you.tar.gz&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;how&#x27;</span>, <span class="string">&#x27;are&#x27;</span>, <span class="string">&#x27;you&#x27;</span>, <span class="string">&#x27;tar&#x27;</span>, <span class="string">&#x27;gz&#x27;</span>]</span><br><span class="line"><span class="comment"># 替换</span></span><br><span class="line"><span class="comment"># 将X替换为python</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;X is good. I like X.&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;python is good. I like python.&#x27;</span></span><br><span class="line"><span class="comment"># 当有大量匹配时，提前把模式进行编译，可以得到更好的效率</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>patt = re.<span class="built_in">compile</span>(<span class="string">&#x27;f..&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>patt.search(<span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line">&lt;_sre.SRE_Match <span class="built_in">object</span>; span=(<span class="number">3</span>, <span class="number">6</span>), match=<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m = patt.search(<span class="string">&#x27;seafood&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m.group()</span><br><span class="line"><span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>patt.findall(<span class="string">&#x27;seafood is food&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h2 id="列表排序"><a href="#列表排序" class="headerlink" title="列表排序"></a>列表排序</h2><ul>
<li>列表排序的sort方法有一个名为key的参数</li>
<li>参数key要求传入一个函数，该函数将列表中的每一项进行处理，处理的结果作为排序依据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist</span><br><span class="line">[(<span class="string">&#x27;172.40.58.150&#x27;</span>, <span class="number">10</span>), (<span class="string">&#x27;172.40.58.124&#x27;</span>, <span class="number">6</span>), (<span class="string">&#x27;172.40.58.101&#x27;</span>, <span class="number">10</span>), (<span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">121</span>), (<span class="string">&#x27;192.168.4.254&#x27;</span>, <span class="number">103</span>), (<span class="string">&#x27;192.168.2.254&#x27;</span>, <span class="number">110</span>), (<span class="string">&#x27;201.1.1.254&#x27;</span>, <span class="number">173</span>), (<span class="string">&#x27;201.1.2.254&#x27;</span>, <span class="number">119</span>), (<span class="string">&#x27;172.40.0.54&#x27;</span>, <span class="number">391</span>), (<span class="string">&#x27;172.40.50.116&#x27;</span>, <span class="number">244</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">last</span>(<span class="params">item</span>):</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> item[-<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist.sort(key=last)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alist</span><br><span class="line">[(<span class="string">&#x27;172.40.58.124&#x27;</span>, <span class="number">6</span>), (<span class="string">&#x27;172.40.58.150&#x27;</span>, <span class="number">10</span>), (<span class="string">&#x27;172.40.58.101&#x27;</span>, <span class="number">10</span>), (<span class="string">&#x27;192.168.4.254&#x27;</span>, <span class="number">103</span>), (<span class="string">&#x27;192.168.2.254&#x27;</span>, <span class="number">110</span>), (<span class="string">&#x27;201.1.2.254&#x27;</span>, <span class="number">119</span>), (<span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">121</span>), (<span class="string">&#x27;201.1.1.254&#x27;</span>, <span class="number">173</span>), (<span class="string">&#x27;172.40.50.116&#x27;</span>, <span class="number">244</span>), (<span class="string">&#x27;172.40.0.54&#x27;</span>, <span class="number">391</span>)]</span><br></pre></td></tr></table></figure>

<h2 id="python软件包管理"><a href="#python软件包管理" class="headerlink" title="python软件包管理"></a>python软件包管理</h2><p>python的官方模块文件站点：<a target="_blank" rel="noopener" href="https://pypi.org/">https://pypi.org/</a></p>
<p>安装模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install 模块名</span><br></pre></td></tr></table></figure>

<p>因为安装的时候使用的是国外站点，有可能速度慢。可以使用国内镜像站点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir -p ~/.pip</span></span><br><span class="line"><span class="comment"># vim ~/.pip/pip.conf</span></span><br><span class="line">[<span class="keyword">global</span>]</span><br><span class="line">index-url = http://pypi.douban.com/simple/</span><br><span class="line">[install]  </span><br><span class="line">trusted-host=pypi.douban.com</span><br></pre></td></tr></table></figure>

<p>安装wget</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(nsd1903) [root@room8pc16 day04]<span class="comment"># pip install wget</span></span><br></pre></td></tr></table></figure>

<p>本地安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ls /linux-soft/05</span></span><br><span class="line">zzg_pypkgs.tar.gz</span><br><span class="line"><span class="comment"># tar xzf /linux-soft/05/zzg_pypkgs.tar.gz -C ~</span></span><br><span class="line"><span class="comment"># pip install pymysql_pkgs/*</span></span><br></pre></td></tr></table></figure>

<p>启动虚拟机，安装mariadb-server并启动。</p>
<p>创建名为nsd1903的数据库，并授权物理主机可以访问。</p>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p>为一个小公司创建数据库，用于记录员工的基本信息以及发工资的情况。</p>
<p>姓名、性别、职位、部门、联系方式、出生日期、工资日、基本工资、奖金、实发工资</p>
<p>关系型数据库，应该尽量减少数据冗余。为了消除冗余，可以把数据放到不同的表中。</p>
<p>员工表：姓名、性别、职位、部门、联系方式、出生日期</p>
<p>工资表：姓名、工资日、基本工资、奖金、实发工资</p>
<h4 id="关系型数据的范式"><a href="#关系型数据的范式" class="headerlink" title="关系型数据的范式"></a>关系型数据的范式</h4><ul>
<li>所谓第一范式（1NF）是指在关系模型中，对域添加的一个规范要求，所有的域都应该是原子性的，即数据库表的每一列都是不可分割的原子数据项<ul>
<li>联系方式可以拆为：email / 电话号码 / 家庭住址</li>
</ul>
</li>
<li>第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范（2NF）必须先满足第一范式（1NF）。第二范式（2NF）要求数据库表中的每个实例或记录必须可以被唯一地区分。简单来说，就是需要有个主键。<ul>
<li>员工表需要添加员工ID作为主键</li>
<li>工资表用哪个作为主键都不合适，可以单独添加一个id作为主键</li>
</ul>
</li>
<li>第三范式就是属性不依赖于其它非主属性，也就是在满足2NF的基础上，任何非主属性不得传递依赖于主属性。非主属性不能依赖于其他非主属性。<ul>
<li>工资表中，实发工资依赖于基本工资和奖金，它不应该出现在表中，需要用的时候，通过程序临时计算。</li>
</ul>
</li>
</ul>
<p>最终的表：</p>
<p>员工表：员工ID、姓名、性别、职位、部门ID、email、phone、出生日期</p>
<p>部门表：部门ID、部门名称</p>
<p>工资表：id、员工ID、工资日、基本工资、奖金</p>
<h2 id="pymysql模块的使用"><a href="#pymysql模块的使用" class="headerlink" title="pymysql模块的使用"></a>pymysql模块的使用</h2><ol>
<li>创建到数据库的连接</li>
<li>创建用于操作数据库（表）的游标，相当于操作文件时打开的文件对象</li>
<li>通过游标执行sql语句</li>
<li>如果涉及对数据库的修改，需要执行commit</li>
<li>关闭游标、关闭连接</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建数据库</span></span><br><span class="line">MariaDB [(none)]&gt; CREATE DATABASE nsd1903 DEFAULT CHARSET utf8;</span><br></pre></td></tr></table></figure>

<h2 id="sqlalchemy"><a href="#sqlalchemy" class="headerlink" title="sqlalchemy"></a>sqlalchemy</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(nsd1903) [root@room8pc16 day04]<span class="comment"># pip install sqlalchemy_pkgs/SQLAlchemy-1.2.14.tar.gz</span></span><br></pre></td></tr></table></figure>

<h3 id="ORM：对象关系映射"><a href="#ORM：对象关系映射" class="headerlink" title="ORM：对象关系映射"></a>ORM：对象关系映射</h3><ul>
<li>Object：对象，对应python的class</li>
<li>Relationship：关系，对应关系型数据库</li>
<li>Mapping：映射</li>
<li>把sqlalchemy中的类与表关联</li>
<li>把类中的变量与表的字段关联</li>
<li>把类的实例与表的记录关联</li>
<li>表中的每个字段与sqlalchemy的Column类关联</li>
<li>字段的类型与sqlalchemy相关的类关联</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [nsd1903]&gt; CREATE DATABASE tedu1903 DEFAULT CHARSET utf8;</span><br></pre></td></tr></table></figure>

<p>对数据库执行增删改查操作时，需要创建会话。</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>SpreadWings-Sky</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://spreadwings-sky.github.io/2021/04/11/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="python学习笔记">https://spreadwings-sky.github.io/2021/04/11/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/03/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-02/" rel="next" title="数据结构与算法-02"><span class="post-nav-text">数据结构与算法-02</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> SpreadWings-Sky</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.1</span></div><div class="live_time"><span>本博客已低调运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-04-15T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script><div class="aplayer no-destroy" id="aplayer" data-id="2383293092" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listfolded data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>